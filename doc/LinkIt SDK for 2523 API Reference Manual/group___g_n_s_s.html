<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT2523 API Reference: GNSS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT2523 API Reference
   &#160;<span id="projectnumber">LinkIt SDK v4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___g_n_s_s.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GNSS</div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the GNSS interface APIs including terms and acronyms, supported features, software architecture, details on how to use the GNSS interface, GNSS function groups, enums, structures and functions.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the GNSS interface APIs including terms and acronyms, supported features, software architecture, details on how to use the GNSS interface, GNSS function groups, enums, structures and functions. </p>
<p>The GNSS API provides a unified method to control and communicate the data with GNSS chip. For more details on the data format, data flow and other information on GNSS, please refer to MediaTek LinkIt™ Development Platform for RTOS GNSS Developer's Guide.</p>
<h1>Terms and Acronyms </h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>GPS</b> </td><td>Global Positioning System (GPS) satellites broadcast microwave signals to enable GPS receivers on or near the Earth's surface to determine location, velocity and time. For an introduction to GPS, please refer to <a href="https://en.wikipedia.org/wiki/GPS_signals">GPS in Wikipedia.</a>. </td></tr>
<tr>
<td><b>UTC</b> </td><td>Coordinated Universal Time is the primary time standard to adjust world clocks and time. For an introduction to UTC, please refer to <a href="https://en.wikipedia.org/wiki/UTC_offset">UTC in Wikipedia.</a>. </td></tr>
<tr>
<td><b>NMEA</b> </td><td>National Marine Electronics Association (NMEA 0183) is a combined electrical and data specification for communication between marine electronic devices such as echo sounder, sonar, anemometer, gyrocompass, autopilot, GNSS receivers and many other types of instruments. For an introduction to NMEA, please refer to <a href="https://en.wikipedia.org/wiki/NMEA_0183">NMEA in Wikipedia.</a>. </td></tr>
<tr>
<td><b>UART</b> </td><td>Universal Asynchronous Receiver/Transmitter is usually an individual (or part of an) integrated circuit (IC) used for serial communications over a micro-controller unit(MCU) or peripheral device serial port. For an introduction to UART, please refer to <a href="https://en.wikipedia.org/wiki/Uart">UART in Wikipedia.</a>. </td></tr>
<tr>
<td><b>PMTK</b> </td><td>PMTK command is MediaTek proprietary data transfer protocol for GNSS. It enables configuring the parameters of the GNSS chipset, aiding assistance position information and receive notifications from the GNSS chip.. </td></tr>
<tr>
<td><b>EINT</b> </td><td>External Interrupt Controller. Process the interrupt request from external source or peripheral. </td></tr>
<tr>
<td><b>GNSS</b> </td><td>Global navigation satellite system is a satellite navigation system with global coverage, such as GPS. </td></tr>
</table>
<h1><a class="anchor" id="GNSS_Architechture_Chapter"></a>
Software architecture of GNSS.</h1>
<p>The GNSS chip is a System-in-Package (SiP) in LinkIt 2523 board by SAC that connects with the host using UART.</p>
<h1><a class="anchor" id="GNSS_Usage_Chapter"></a>
How to use GNSS interface.</h1>
<ul>
<li>step 1: Call <a class="el" href="group___g_n_s_s.html#gafeb711db1d4b39f985b324378bedfebd" title="This function initializes the GNSS content. ">gnss_init()</a> to initialize the GNSS content and register a callback function.</li>
<li>step 2: Call <a class="el" href="group___g_n_s_s.html#gafe30ecad54d40a40deccaca54297a156" title="This function powers on the GNSS chip. ">gnss_power_on()</a> to power on the GNSS chip.</li>
<li>step 3: Call <a class="el" href="group___g_n_s_s.html#ga240889216628e06d96e1cf6444331455" title="This function sends a PMTK command to the GNSS chip. ">gnss_send_command()</a> to configure GNSS chip settings, such as aiding time.</li>
<li>step 4: Call <a class="el" href="group___g_n_s_s.html#ga2ce062013f243dd61fecd4fe47c830cf" title="This function reads the incoming NMEA sentence. ">gnss_read_sentence()</a> to read the incoming NMEA data.</li>
<li>step 5: Call <a class="el" href="group___g_n_s_s.html#ga026f16c52f4b63a217e7a9848c4730bb" title="This function powers off the GNSS chip. ">gnss_power_off()</a> to power off the GNSS chip.</li>
<li>Sample code: <div class="fragment"><div class="line">int32_t rx_data_ready = 0;</div><div class="line">int32_t tx_data_ready = 1;</div><div class="line"><span class="keywordtype">void</span> my_callback_func(gnss_callback_type_t type, <span class="keywordtype">void</span> *param)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (type == <a class="code" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1abf587960f42f55e57568778194613052">GNSS_NOTIFICATION_TYPE_READ</a>) {</div><div class="line">        <span class="comment">// The incoming NMEA sentence is available to read.</span></div><div class="line">        <span class="comment">// Set a flag, such as send a message to the task and then call #gnss_read_sentence() to read the NMEA sentence.</span></div><div class="line">        rx_data_ready = 1;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (type == <a class="code" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1ac5c54a365c72019e26603c2e313acf53">GNSS_NOTIFICATION_TYPE_WRITE</a>) {</div><div class="line">        <span class="comment">// Set a flag, such as send a message to the task and then call #gnss_send_command() to send a command to GNSS chip.</span></div><div class="line">        tx_data_ready = 1;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (type == <a class="code" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1af214d366ec1a1e297821ad2c006b2467">GNSS_NOTIFICATION_TYPE_POWER_ON_CNF</a>) {</div><div class="line">        <span class="keywordflow">if</span> (*((int32_t*) param) == 1){</div><div class="line">            <span class="comment">// Power on successfully completed.</span></div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (type == <a class="code" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1a1f52770306aa14939d50cb1abf8864c7">GNSS_NOTIFICATION_TYPE_POWER_OFF_CNF</a>) {</div><div class="line">        <span class="keywordflow">if</span> (*((int32_t*) param) == 1){</div><div class="line">            <span class="comment">// Power off successfully completed.</span></div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> app_main(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">   int32_t ret;</div><div class="line">   int8_t buf[256];</div><div class="line">   int32_t send_len = 0;</div><div class="line">   uint8_t command[] = <span class="stringliteral">&quot;$PMTK353,1,0,0,0,0*2A\r\n&quot;</span>;</div><div class="line">   <span class="comment">// Initilize the GNSS content and register a callback function.</span></div><div class="line">   <a class="code" href="group___g_n_s_s.html#gafeb711db1d4b39f985b324378bedfebd">gnss_init</a>(my_callback_func);</div><div class="line">   <span class="comment">//Power on the GNSS chip.</span></div><div class="line">   <a class="code" href="group___g_n_s_s.html#gafe30ecad54d40a40deccaca54297a156">gnss_power_on</a>();</div><div class="line">   <span class="keywordflow">do</span> {</div><div class="line">       <span class="comment">// Waiting for the incoming NMEA data.</span></div><div class="line">       <span class="keywordflow">while</span> (!rx_data_ready);</div><div class="line">       <span class="comment">// Read a complete NMEA sentence, if there is no data, the return value is 0.</span></div><div class="line">       ret = <a class="code" href="group___g_n_s_s.html#ga2ce062013f243dd61fecd4fe47c830cf">gnss_read_sentence</a>(buf, 256);</div><div class="line">       <span class="keywordflow">if</span> (ret &gt; 0) {</div><div class="line">       <span class="comment">// Process the NMEA sentence.</span></div><div class="line">       } <span class="keywordflow">else</span> {</div><div class="line">           <span class="comment">// Wait</span></div><div class="line">       }</div><div class="line"></div><div class="line">       <span class="keywordflow">do</span> {</div><div class="line">           <span class="comment">// Send</span></div><div class="line">           send_len += <a class="code" href="group___g_n_s_s.html#ga240889216628e06d96e1cf6444331455">gnss_send_command</a>(command + send_len, strlen(command) - send_len);</div><div class="line">           <span class="keywordflow">if</span> (send_len == strlen(command)) {</div><div class="line">               <span class="comment">// Data is successfully sent.</span></div><div class="line">               <span class="keywordflow">break</span>;</div><div class="line">           } <span class="keywordflow">else</span> {</div><div class="line">               <span class="comment">// Set the TX flag.</span></div><div class="line">               tx_data_ready = 0;</div><div class="line">               <span class="comment">// Waiting for data send to complete.</span></div><div class="line">               <span class="keywordflow">while</span>(!tx_data_ready);</div><div class="line">           }</div><div class="line">       <span class="keywordflow">while</span> (1);</div><div class="line">   } <span class="keywordflow">while</span> (1);</div><div class="line">   <span class="comment">// Power off the GNSS chip.</span></div><div class="line">   <a class="code" href="group___g_n_s_s.html#ga026f16c52f4b63a217e7a9848c4730bb">gnss_power_off</a>();</div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgnss__debug__data__t.html">gnss_debug_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to carry the debugging data.  <a href="structgnss__debug__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7b4b2fc0ec55fbe45c922a0b77a1f0e0"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#ga7b4b2fc0ec55fbe45c922a0b77a1f0e0">gnss_callback_t</a>) (<a class="el" href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1">gnss_notification_type_t</a> type, void *param)</td></tr>
<tr class="memdesc:ga7b4b2fc0ec55fbe45c922a0b77a1f0e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">GNSS callback typedef, the registered callback is invoked when a UART or EINT interrupt is triggered.  <a href="#ga7b4b2fc0ec55fbe45c922a0b77a1f0e0">More...</a><br /></td></tr>
<tr class="separator:ga7b4b2fc0ec55fbe45c922a0b77a1f0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4b895d4f64f84d3f7a2e7269dafd82c1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1">gnss_notification_type_t</a> { <br />
&#160;&#160;<a class="el" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1af214d366ec1a1e297821ad2c006b2467">GNSS_NOTIFICATION_TYPE_POWER_ON_CNF</a>, 
<br />
&#160;&#160;<a class="el" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1a1f52770306aa14939d50cb1abf8864c7">GNSS_NOTIFICATION_TYPE_POWER_OFF_CNF</a>, 
<br />
&#160;&#160;<a class="el" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1abf587960f42f55e57568778194613052">GNSS_NOTIFICATION_TYPE_READ</a>, 
<br />
&#160;&#160;<a class="el" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1ac5c54a365c72019e26603c2e313acf53">GNSS_NOTIFICATION_TYPE_WRITE</a>, 
<br />
&#160;&#160;<a class="el" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1a1141e8dbbc29ae14faa4078d82227257">GNSS_NOTIFICATION_TYPE_HOST_WAKEUP</a>, 
<br />
&#160;&#160;<a class="el" href="group___g_n_s_s.html#gga4b895d4f64f84d3f7a2e7269dafd82c1ace20364fc23e5d18653da7eea294b099">GNSS_NOTIFICATION_TYPE_DEBUG_INFO</a>
<br />
 }<tr class="memdesc:ga4b895d4f64f84d3f7a2e7269dafd82c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This enum notifies the user about an incoming event from the GNSS chip.  <a href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga4b895d4f64f84d3f7a2e7269dafd82c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafeb711db1d4b39f985b324378bedfebd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#gafeb711db1d4b39f985b324378bedfebd">gnss_init</a> (<a class="el" href="group___g_n_s_s.html#ga7b4b2fc0ec55fbe45c922a0b77a1f0e0">gnss_callback_t</a> callback_function)</td></tr>
<tr class="memdesc:gafeb711db1d4b39f985b324378bedfebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the GNSS content.  <a href="#gafeb711db1d4b39f985b324378bedfebd">More...</a><br /></td></tr>
<tr class="separator:gafeb711db1d4b39f985b324378bedfebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe30ecad54d40a40deccaca54297a156"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#gafe30ecad54d40a40deccaca54297a156">gnss_power_on</a> (void)</td></tr>
<tr class="memdesc:gafe30ecad54d40a40deccaca54297a156"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function powers on the GNSS chip.  <a href="#gafe30ecad54d40a40deccaca54297a156">More...</a><br /></td></tr>
<tr class="separator:gafe30ecad54d40a40deccaca54297a156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga026f16c52f4b63a217e7a9848c4730bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#ga026f16c52f4b63a217e7a9848c4730bb">gnss_power_off</a> (void)</td></tr>
<tr class="memdesc:ga026f16c52f4b63a217e7a9848c4730bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function powers off the GNSS chip.  <a href="#ga026f16c52f4b63a217e7a9848c4730bb">More...</a><br /></td></tr>
<tr class="separator:ga026f16c52f4b63a217e7a9848c4730bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga240889216628e06d96e1cf6444331455"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#ga240889216628e06d96e1cf6444331455">gnss_send_command</a> (int8_t *cmd, int32_t cmd_len)</td></tr>
<tr class="memdesc:ga240889216628e06d96e1cf6444331455"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends a PMTK command to the GNSS chip.  <a href="#ga240889216628e06d96e1cf6444331455">More...</a><br /></td></tr>
<tr class="separator:ga240889216628e06d96e1cf6444331455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ce062013f243dd61fecd4fe47c830cf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_n_s_s.html#ga2ce062013f243dd61fecd4fe47c830cf">gnss_read_sentence</a> (int8_t *data_buffer, int32_t length)</td></tr>
<tr class="memdesc:ga2ce062013f243dd61fecd4fe47c830cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads the incoming NMEA sentence.  <a href="#ga2ce062013f243dd61fecd4fe47c830cf">More...</a><br /></td></tr>
<tr class="separator:ga2ce062013f243dd61fecd4fe47c830cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga7b4b2fc0ec55fbe45c922a0b77a1f0e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* gnss_callback_t) (<a class="el" href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1">gnss_notification_type_t</a> type, void *param)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GNSS callback typedef, the registered callback is invoked when a UART or EINT interrupt is triggered. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___g_n_s_s.html#gafeb711db1d4b39f985b324378bedfebd" title="This function initializes the GNSS content. ">gnss_init</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga4b895d4f64f84d3f7a2e7269dafd82c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1">gnss_notification_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This enum notifies the user about an incoming event from the GNSS chip. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1" title="This enum notifies the user about an incoming event from the GNSS chip. ">gnss_notification_type_t</a> <a class="el" href="group___g_n_s_s.html#gafeb711db1d4b39f985b324378bedfebd" title="This function initializes the GNSS content. ">gnss_init()</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga4b895d4f64f84d3f7a2e7269dafd82c1af214d366ec1a1e297821ad2c006b2467"></a>GNSS_NOTIFICATION_TYPE_POWER_ON_CNF&#160;</td><td class="fielddoc">
<p>The event notification is sent once the chip is powered on. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4b895d4f64f84d3f7a2e7269dafd82c1a1f52770306aa14939d50cb1abf8864c7"></a>GNSS_NOTIFICATION_TYPE_POWER_OFF_CNF&#160;</td><td class="fielddoc">
<p>The event notification is sent once the chip is powered off. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4b895d4f64f84d3f7a2e7269dafd82c1abf587960f42f55e57568778194613052"></a>GNSS_NOTIFICATION_TYPE_READ&#160;</td><td class="fielddoc">
<p>The event notification is sent if incoming GNSS data is available. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4b895d4f64f84d3f7a2e7269dafd82c1ac5c54a365c72019e26603c2e313acf53"></a>GNSS_NOTIFICATION_TYPE_WRITE&#160;</td><td class="fielddoc">
<p>Notifies the host to send a command again. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4b895d4f64f84d3f7a2e7269dafd82c1a1141e8dbbc29ae14faa4078d82227257"></a>GNSS_NOTIFICATION_TYPE_HOST_WAKEUP&#160;</td><td class="fielddoc">
<p>The GNSS chip is ready to send positioning data to the host. </p>
<p>The host should stay on to receive the data. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4b895d4f64f84d3f7a2e7269dafd82c1ace20364fc23e5d18653da7eea294b099"></a>GNSS_NOTIFICATION_TYPE_DEBUG_INFO&#160;</td><td class="fielddoc">
<p>Notify the user to save debugging data. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafeb711db1d4b39f985b324378bedfebd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gnss_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___g_n_s_s.html#ga7b4b2fc0ec55fbe45c922a0b77a1f0e0">gnss_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback_function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the GNSS content. </p>
<p>This function does not support multi-instance. The subsequent call to this function will overwrite the callback function registered by the previous call to this function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback_function</td><td>the callback function to be registered. The callback is invoked when a UART or EINT interrupt occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___g_n_s_s.html#ga4b895d4f64f84d3f7a2e7269dafd82c1" title="This enum notifies the user about an incoming event from the GNSS chip. ">gnss_notification_type_t</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga026f16c52f4b63a217e7a9848c4730bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gnss_power_off </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function powers off the GNSS chip. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="gafe30ecad54d40a40deccaca54297a156"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gnss_power_on </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function powers on the GNSS chip. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga2ce062013f243dd61fecd4fe47c830cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gnss_read_sentence </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>data_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads the incoming NMEA sentence. </p>
<p>It returns a complete NMEA sentence. The NMEA sentence can be processed. The sentence format is aligned with the NMEA0183 protocol. The NMEA sentence: "$GPGGA,030544.713,,,,,0,0,,,M,,M,,*4B", For more details about NMEA, please refer to MediaTek LinkIt™ Development Platform for RTOS GNSS Developer's Guide. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data_buffer</td><td>a user defined buffer allocated for the NMEA sentence. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the buffer size. If the buffer size is smaller than the NMEA sentence length, the NMEA sentence will be truncated, up to the size. Usually the size is smaller than 256 bytes. Users can allocate a buffer the size bigger than 256 bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the read sentence's length. </dd></dl>

</div>
</div>
<a class="anchor" id="ga240889216628e06d96e1cf6444331455"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t gnss_send_command </td>
          <td>(</td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>cmd_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends a PMTK command to the GNSS chip. </p>
<p>"$PMTK225,0,0,0*2B\r\n"</p><ul>
<li><b>Example</b> <b>Commands</b>.<br />
<br />
Packet Type: 225 PMTK_SET_PERIODIC_MODE periodic power saving mode settings.<br />
Packet Type: 740 PMTK_DT_UTC Time aiding. The packet contains the current UTC time.<br />
<br />
For the details on the command, please refer to MediaTek LinkIt™ Development Platform for RTOS GNSS Developer's Guide. This is an asynchronous API.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>The pointer to a buffer of the PMTK command. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd_len</td><td>lengh of the PMTK command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of the data sent. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 15 2017 19:29:11 for MT2523 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
