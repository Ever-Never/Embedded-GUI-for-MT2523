<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT2523 API Reference: SPP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT2523 API Reference
   &#160;<span id="projectnumber">LinkIt SDK v4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___bluetooth_s_p_p.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">SPP<div class="ingroups"><a class="el" href="group___bluetooth.html">Bluetooth</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The Serial Port Profile (SPP) can be used to emulate a serial port connection using Radio Frequency Communication(RFCOMM) protocol between two peer devices.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The Serial Port Profile (SPP) can be used to emulate a serial port connection using Radio Frequency Communication(RFCOMM) protocol between two peer devices. </p>
<p>It supports server and client roles. The SPP server is implemented for a server side connection (Acceptor). It can wait for another device to take initiative to connect. The SPP client is implemented for a client side connection (Initiator) to initiate a connection with another device.</p>
<h1>Terms and Acronyms </h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>UUID</b> </td><td>A Universally Unique Identifier. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">Wikipedia</a>. </td></tr>
<tr>
<td><b>SPP</b> </td><td>Serial Port Profile. For more information, please refer to <a href="https://en.wikipedia.org/wiki/List_of_Bluetooth_profiles#Serial_Port_Profile_.28SPP.29">Wikipedia</a>. </td></tr>
<tr>
<td><b>RFCOMM</b> </td><td>The Radio Frequency Communication. For more information, please refer to <a href="https://en.wikipedia.org/wiki/List_of_Bluetooth_protocols#Radio_frequency_communication_.28RFCOMM.29">Wikipedia</a>. </td></tr>
<tr>
<td><b>SDP</b> </td><td>Service Discovery Protocol. For more information, please refer to <a href="https://en.wikipedia.org/wiki/List_of_Bluetooth_protocols#Service_discovery_protocol_.28SDP.29">Wikipedia</a>. </td></tr>
</table>
<h1><a class="anchor" id="bt_spp_api_usage"></a>
How to use this module</h1>
<ul>
<li>SPP connection in server mode, as shown in the figure titled as "SPP connection establishment message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Step 1. Mandatory, implement <a class="el" href="group___bluetooth_s_d_p.html#ga570ba4e103c9dffd248f44e9aa5b13f6" title="This is a user defined callback and called by the SDP. ">bt_sdps_get_customized_record()</a> to add SDP records of SPP Servers. The SPP's SDP record contains five attributes: the service class ID list, the protocol description list, the public browse group, the language list and the service name. In general, user needs to customize the service class ID list, the protocol description list and the service name, while the other two attributes are constant. In the service class ID list, user needs to fill the 128-bit UUID to identify the SPP server. User can assign their own unique and private UUID for the purpose of customization. In the protocol description list, user needs to fill the SPP server ID with the value between the <a class="el" href="group___bluetoothbt__spp__define.html#ga0fae42199796f29382f27958404c6938" title="This enumeration defines the SPP server ID as an input parameter assigned to BT_SPP_SDP_ATTRIBUTE_PRO...">BT_SPP_SERVER_ID_START</a> and the <a class="el" href="group___bluetoothbt__spp__define.html#ga10888a2122d357ed25516077797bbef0" title="End of the SPP server ID. ">BT_SPP_SERVER_ID_END</a>. It is noted that each SPP record must be assigned with a unique server ID. In the service name, user can assign a name to the SPP server. For more information about the SDP record, please refer to SDP.</li>
</ul>
</li>
<li>Sample code: <div class="fragment"><div class="line"><span class="preprocessor">#define BT_SPP_UUID    0x00,0x00,0x11,0x01,0x00,0x00,0x10,0x00,0x80,0x00,0x00,0x80,0x5F,0x9B,0x34,0xFB</span></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_spp_service_class_id_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#ga5e56cbebd5fbcf1526aec14d9e451f7a">BT_SPP_SDP_ATTRIBUTE_UUID_LENGTH</a>,</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#gad47501d85c85075e48e2e9426a693b5e">BT_SPP_SDP_ATTRIBUTE_UUID</a>(BT_SPP_STANDARD_UUID)</div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_spp_protocol_descriptor_list_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#gaf3a8d36c46db7277e783ed2532e71cdf">BT_SPP_SDP_ATTRIBUTE_PROTOCOL_DESCRIPTOR</a>(<a class="code" href="group___bluetoothbt__spp__define.html#ga0fae42199796f29382f27958404c6938">BT_SPP_SERVER_ID_START</a>)</div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_spp_browse_group_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#gaee08b96c79ccc2985e954cf5baadf2b4">BT_SPP_SDP_ATTRIBUTE_PUBLIC_BROWSE_GROUP</a></div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_spp_language_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#ga8112dd2ea0f231d82e34677757f70e87">BT_SPP_SDP_ATTRIBUTE_LANGUAGE</a></div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_spp_service_name_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#ga7dfda30d6fef77bd462ac0ee2bf44036">BT_SPP_SDP_ATTRIBUTE_SIZE_OF_SERVICE_NAME</a>(11),</div><div class="line">    <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span></div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structbt__sdps__attribute__t.html">bt_sdps_attribute_t</a> bt_spp_sdp_attributes_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#ga378e2f125f607c571a59429c0f3ebdb0">BT_SPP_SDP_ATTRIBUTE_SERVICE_CLASS_ID_LIST</a>(bt_spp_service_class_id_pattern),</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#ga9ccb755aeaa9519e388818005c60772e">BT_SPP_SDP_ATTRIBUTE_PROTOCOL_DESC_LIST</a>(bt_spp_protocol_descriptor_list_pattern),</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#gaed3aafe300dfd976e33aff23b5aaf2a9">BT_SPP_SDP_ATTRIBUTE_BROWSE_GROUP_LIST</a>(bt_spp_browse_group_pattern),</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#ga2baafc193dc2d9c63c493c8a4fd2c101">BT_SPP_SDP_ATTRIBUTE_LANGUAGE_BASE_LIST</a>(bt_spp_language_pattern),</div><div class="line">    <a class="code" href="group___bluetoothbt__spp__define.html#gad371ac17b73aec0c2355401cc7f0e5f0">BT_SPP_SDP_ATTRIBUTE_SERVICE_NAME</a>(bt_spp_service_name_pattern)</div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> bt_spp_sdp_record_pattern = </div><div class="line">{</div><div class="line">    .<a class="code" href="structbt__sdps__record__t.html#af1c5959aa0d4e386d16504fd2d26d6d1">attribute_list_length</a> = <span class="keyword">sizeof</span>(bt_spp_sdp_attributes_pattern),</div><div class="line">    .attribute_list = bt_spp_sdp_attributes_pattern,</div><div class="line">};</div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> *sdps_spp_record[]= {</div><div class="line">    &amp;bt_spp_sdp_record_pattern,</div><div class="line">    <span class="comment">//&amp;bt_spp_sdp_record_custom, user can add multiple SPP servers here.</span></div><div class="line">};</div><div class="line">uint8_t <a class="code" href="group___bluetooth_s_d_p.html#ga570ba4e103c9dffd248f44e9aa5b13f6">bt_sdps_get_customized_record</a>(<span class="keyword">const</span> <a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> *** record_list)</div><div class="line">{</div><div class="line">    *record_list = sdps_spp_record;</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(sdps_spp_record)/<span class="keyword">sizeof</span>(<a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a>*);</div><div class="line">}</div></div><!-- fragment --><ul>
<li>Step 2. If a remote SPP client initiates a connection to the SPP server, the <a class="el" href="group___bluetoothbt__spp__define.html#ga1caf809dcf3f0e6af3506eff842c435a" title="The SPP event definitions. ">BT_SPP_CONNECT_IND</a> event notifies the function <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a>.</li>
<li>Step 3. Call the function <a class="el" href="group___bluetooth_s_p_p.html#ga190163672f6ea9ad7da435ecd40b477c" title="This function is for the SPP server to accept or reject connection from a remote client, the BT_SPP_CONNECT_CNF event is reported to indicate the result of the response. ">bt_spp_connect_response()</a> to accept or reject this connection request from a remote SPP client.</li>
<li>Step 4. The <a class="el" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6" title="The result of a connect attempt initiated by a local or remote device is available. ">BT_SPP_CONNECT_CNF</a> event notifies the function <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> if the device is connected successfully or not.<ul>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> msg, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *buff)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (msg) {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__spp__define.html#ga1caf809dcf3f0e6af3506eff842c435a">BT_SPP_CONNECT_IND</a>:</div><div class="line">             <a class="code" href="structbt__spp__connect__ind__t.html">bt_spp_connect_ind_t</a>* conn_ind_p = (<a class="code" href="structbt__spp__connect__ind__t.html">bt_spp_connect_ind_t</a>*) buff;</div><div class="line">             <a class="code" href="group___bluetooth_s_p_p.html#ga190163672f6ea9ad7da435ecd40b477c">bt_spp_connect_response</a>(conn_ind_p-&gt;<a class="code" href="structbt__spp__connect__ind__t.html#aa8bec03983fc2371ab6afa98ae6ddd45">handle</a>, <span class="keyword">true</span>);</div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6">BT_SPP_CONNECT_CNF</a>:</div><div class="line">             <a class="code" href="structbt__spp__connect__cnf__t.html">bt_spp_connect_cnf_t</a>* conn_cnf_p = (<a class="code" href="structbt__spp__connect__cnf__t.html">bt_spp_connect_cnf_t</a>*) buff;</div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
</ul>
</li>
<li>SPP connection in client mode, as shown in the figure titled as "SPP connection establishment message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Step 1. Call the function <a class="el" href="group___bluetooth_s_p_p.html#ga587181bb0fddbde24f620bc6553d314f" title="This function is for the SPP client to connect to a remote server, the BT_SPP_CONNECT_CNF event is re...">bt_spp_connect()</a> to initiate a connection to a remote server.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t spp_uuid[16] = {0x00,0x00,0x11,0x01,0x00,0x00,0x10,0x00,0x80,0x00,0x00,0x80,0x5F,0x9B,0x34,0xFB};</div><div class="line"><a class="code" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> remote_addr = {0x12, 0x34, 0x56, 0x78, 0x9A, 0xBC};</div><div class="line">uint32_t spp_handle = <a class="code" href="group___bluetoothbt__spp__define.html#ga94cffbac3d2e131d28fab739743d15f5">BT_SPP_INVALID_HANDLE</a>;</div><div class="line"><a class="code" href="group___bluetooth_s_p_p.html#ga587181bb0fddbde24f620bc6553d314f">bt_spp_connect</a>(&amp;(spp_handle), &amp;remote_addr, spp_uuid);</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step 2. The <a class="el" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6" title="The result of a connect attempt initiated by a local or remote device is available. ">BT_SPP_CONNECT_CNF</a> event notifies the function <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> if the device is connected successfully or not.</li>
</ul>
</li>
<li>Send data, as shown in the figure titled as "SPP data transfer message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Step 1. Call the function <a class="el" href="group___bluetooth_s_p_p.html#ga155e95014dfc9574f56a364f5d414f96" title="This function sends data to a remote device. ">bt_spp_send()</a> to send application data to the remote device. If returned value is <a class="el" href="group___bluetoothbt__spp__define.html#ga9835ec7e01166b68b8246de195c4ea1a" title="Define for SPP failed status. ">BT_STATUS_SPP_TX_NOT_AVAILABLE</a>, the application must wait for the <a class="el" href="group___bluetoothbt__spp__define.html#ga55e743a2d5f19ec762b019fcc1cc1640" title="The Bluetooth TX buffer has free space for sending data. ">BT_SPP_READY_TO_SEND_IND</a> event before the next send operation.<ul>
<li>Sample code: <div class="fragment"><div class="line">uint8_t app_send_data_buffer[100] = {0};</div><div class="line"><a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> result = <a class="code" href="group___bluetooth_s_p_p.html#ga155e95014dfc9574f56a364f5d414f96">bt_spp_send</a>(spp_handle, app_send_data_buffer, 100);</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step 2. If the application received <a class="el" href="group___bluetoothbt__spp__define.html#ga55e743a2d5f19ec762b019fcc1cc1640" title="The Bluetooth TX buffer has free space for sending data. ">BT_SPP_READY_TO_SEND_IND</a> event, it can continue to write the rest of application data.<ul>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> result = <a class="code" href="group___bluetooth_s_p_p.html#ga155e95014dfc9574f56a364f5d414f96">bt_spp_send</a>(spp_handle, app_send_data_buffer, 100);</div></div><!-- fragment --></li>
</ul>
</li>
</ul>
</li>
<li>Received data, as shown in the figure titled as "SPP data transfer message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Step 1. The <a class="el" href="group___bluetoothbt__spp__define.html#ga17a4c9d8ed9dbd36a21fd388ce633c63" title="Data was received from the remote device. ">BT_SPP_DATA_RECEIVED_IND</a> event notifies the function <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> if the device received data from the remote.<ul>
<li>Sample code: <div class="fragment"><div class="line">uint8_t app_receive_data_buffer[900] = {0};</div><div class="line"> <a class="code" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> msg, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *buff)</div><div class="line"> {</div><div class="line">     <span class="keywordflow">switch</span> (msg) {</div><div class="line">         <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__spp__define.html#ga17a4c9d8ed9dbd36a21fd388ce633c63">BT_SPP_DATA_RECEIVED_IND</a>:</div><div class="line">             <a class="code" href="structbt__spp__data__received__ind__t.html">bt_spp_data_received_ind_t</a>* data_ind_p = (<a class="code" href="structbt__spp__data__received__ind__t.html">bt_spp_data_received_ind_t</a>*) buff;</div><div class="line">             memcpy(app_receive_data_buffer, data_ind_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a021141e4ed340d853a361edbafdc68a8">packet</a>, data_ind_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a91d047c06dbaf8e4f08bc8b0ef2b01a7">packet_length</a>);</div><div class="line">         <span class="keywordflow">default</span>:</div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">     }</div><div class="line"> }</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step 2. If there is no buffer for the application to save the SPP packet from the <a class="el" href="group___bluetoothbt__spp__define.html#ga17a4c9d8ed9dbd36a21fd388ce633c63" title="Data was received from the remote device. ">BT_SPP_DATA_RECEIVED_IND</a>, call the function <a class="el" href="group___bluetooth_s_p_p.html#gac993a920608af60343a0c7363926b4c5" title="This function holds the SPP packet until it is fully consumed. ">bt_spp_hold_data()</a> to hold the packet in the Bluetooth RX buffer.<ul>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="structbt__spp__data__received__ind__t.html">bt_spp_data_received_ind_t</a> saved_data = {0};</div><div class="line"><a class="code" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> msg, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *buff)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (msg) {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__spp__define.html#ga17a4c9d8ed9dbd36a21fd388ce633c63">BT_SPP_DATA_RECEIVED_IND</a>:</div><div class="line">            <a class="code" href="structbt__spp__data__received__ind__t.html">bt_spp_data_received_ind_t</a>* data_ind_p = (<a class="code" href="structbt__spp__data__received__ind__t.html">bt_spp_data_received_ind_t</a>*) buff;</div><div class="line">            <a class="code" href="group___bluetooth_s_p_p.html#gac993a920608af60343a0c7363926b4c5">bt_spp_hold_data</a>(data_ind_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a021141e4ed340d853a361edbafdc68a8">packet</a>);</div><div class="line">            saved_data.<a class="code" href="structbt__spp__data__received__ind__t.html#a021141e4ed340d853a361edbafdc68a8">packet</a> = data_ind_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a021141e4ed340d853a361edbafdc68a8">packet</a>;</div><div class="line">            saved_data.<a class="code" href="structbt__spp__data__received__ind__t.html#a91d047c06dbaf8e4f08bc8b0ef2b01a7">packet_length</a> = data_ind_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a91d047c06dbaf8e4f08bc8b0ef2b01a7">packet_length</a></div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step 3. Release the SPP packet after it is stored in the application by calling the function <a class="el" href="group___bluetooth_s_p_p.html#ga641f07def0572f7407af26cdb9883546" title="This function releases the SPP packet after it is consumed. ">bt_spp_release_data()</a>. If not released, the Bluetooth RX buffer may be exhausted and the application cannot receive data from a remote device.<ul>
<li>Sample code: <div class="fragment"><div class="line">uint8_t app_new_data_buffer[900] = {0};</div><div class="line"><a class="code" href="structbt__spp__data__received__ind__t.html">bt_spp_data_received_ind_t</a>* data_p = &amp;saved_data;</div><div class="line">memcpy(app_new_data_buffer, data_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a021141e4ed340d853a361edbafdc68a8">packet</a>, data_p-&gt;<a class="code" href="structbt__spp__data__received__ind__t.html#a91d047c06dbaf8e4f08bc8b0ef2b01a7">packet_length</a>);</div><div class="line"><a class="code" href="group___bluetooth_s_p_p.html#ga641f07def0572f7407af26cdb9883546">bt_spp_release_data</a>(saved_data.<a class="code" href="structbt__spp__data__received__ind__t.html#a021141e4ed340d853a361edbafdc68a8">packet</a>);</div></div><!-- fragment --></li>
</ul>
</li>
</ul>
</li>
<li>Disconnect the SPP connection, as shown in the figure titled as "SPP connection release message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Step 1. Call the function <a class="el" href="group___bluetooth_s_p_p.html#ga004e55f263a0a6d1177499cd23956cce" title="This function disconnects an existing connection, the BT_SPP_DISCONNECT_IND event is reported to indi...">bt_spp_disconnect()</a> to disconnect the SPP connection from a remote device.<ul>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> result = <a class="code" href="group___bluetooth_s_p_p.html#ga004e55f263a0a6d1177499cd23956cce">bt_spp_disconnect</a>(spp_handle);</div></div><!-- fragment --></li>
</ul>
</li>
<li>Step 2. The <a class="el" href="group___bluetoothbt__spp__define.html#gaa298be663d171722e7e66ee03148128b" title="A disconnect attempt is initiated by a local or remote device or a link loss occurred. ">BT_SPP_DISCONNECT_IND</a> event will notify the function <a class="el" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> to indicate the SPP connection has been released.<ul>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="group___bluetooth_common_s_y_s___p_o_w_e_r.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> msg, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *buff)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (msg) {</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__spp__define.html#gaa298be663d171722e7e66ee03148128b">BT_SPP_DISCONNECT_IND</a>:</div><div class="line">           <a class="code" href="structbt__spp__disconnect__ind__t.html">bt_spp_disconnect_ind_t</a>* disc_ind_p = (<a class="code" href="structbt__spp__disconnect__ind__t.html">bt_spp_disconnect_ind_t</a>*)buff;</div><div class="line">        <span class="keywordflow">default</span>:</div><div class="line">            <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga587181bb0fddbde24f620bc6553d314f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_p_p.html#ga587181bb0fddbde24f620bc6553d314f">bt_spp_connect</a> (uint32_t *handle, const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *address, const uint8_t *uuid128)</td></tr>
<tr class="memdesc:ga587181bb0fddbde24f620bc6553d314f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for the SPP client to connect to a remote server, the <a class="el" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6" title="The result of a connect attempt initiated by a local or remote device is available. ">BT_SPP_CONNECT_CNF</a> event is reported to indicate the result of the connection.  <a href="#ga587181bb0fddbde24f620bc6553d314f">More...</a><br /></td></tr>
<tr class="separator:ga587181bb0fddbde24f620bc6553d314f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga190163672f6ea9ad7da435ecd40b477c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_p_p.html#ga190163672f6ea9ad7da435ecd40b477c">bt_spp_connect_response</a> (uint32_t handle, bool accept)</td></tr>
<tr class="memdesc:ga190163672f6ea9ad7da435ecd40b477c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is for the SPP server to accept or reject connection from a remote client, the <a class="el" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6" title="The result of a connect attempt initiated by a local or remote device is available. ">BT_SPP_CONNECT_CNF</a> event is reported to indicate the result of the response.  <a href="#ga190163672f6ea9ad7da435ecd40b477c">More...</a><br /></td></tr>
<tr class="separator:ga190163672f6ea9ad7da435ecd40b477c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga155e95014dfc9574f56a364f5d414f96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_p_p.html#ga155e95014dfc9574f56a364f5d414f96">bt_spp_send</a> (uint32_t handle, uint8_t *packet, uint16_t packet_length)</td></tr>
<tr class="memdesc:ga155e95014dfc9574f56a364f5d414f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends data to a remote device.  <a href="#ga155e95014dfc9574f56a364f5d414f96">More...</a><br /></td></tr>
<tr class="separator:ga155e95014dfc9574f56a364f5d414f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga004e55f263a0a6d1177499cd23956cce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_p_p.html#ga004e55f263a0a6d1177499cd23956cce">bt_spp_disconnect</a> (uint32_t handle)</td></tr>
<tr class="memdesc:ga004e55f263a0a6d1177499cd23956cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disconnects an existing connection, the <a class="el" href="group___bluetoothbt__spp__define.html#gaa298be663d171722e7e66ee03148128b" title="A disconnect attempt is initiated by a local or remote device or a link loss occurred. ">BT_SPP_DISCONNECT_IND</a> event is reported to indicate the result of the disconnection.  <a href="#ga004e55f263a0a6d1177499cd23956cce">More...</a><br /></td></tr>
<tr class="separator:ga004e55f263a0a6d1177499cd23956cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac993a920608af60343a0c7363926b4c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_p_p.html#gac993a920608af60343a0c7363926b4c5">bt_spp_hold_data</a> (uint8_t *data)</td></tr>
<tr class="memdesc:gac993a920608af60343a0c7363926b4c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function holds the SPP packet until it is fully consumed.  <a href="#gac993a920608af60343a0c7363926b4c5">More...</a><br /></td></tr>
<tr class="separator:gac993a920608af60343a0c7363926b4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga641f07def0572f7407af26cdb9883546"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_p_p.html#ga641f07def0572f7407af26cdb9883546">bt_spp_release_data</a> (uint8_t *data)</td></tr>
<tr class="memdesc:ga641f07def0572f7407af26cdb9883546"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function releases the SPP packet after it is consumed.  <a href="#ga641f07def0572f7407af26cdb9883546">More...</a><br /></td></tr>
<tr class="separator:ga641f07def0572f7407af26cdb9883546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___bluetoothbt__spp__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothbt__spp__define.html">Define</a></td></tr>
<tr class="memdesc:group___bluetoothbt__spp__define"><td class="mdescLeft">&#160;</td><td class="mdescRight">This section defines the macros for the SPP. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___bluetoothbt__spp__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothbt__spp__struct.html">Struct</a></td></tr>
<tr class="memdesc:group___bluetoothbt__spp__struct"><td class="mdescLeft">&#160;</td><td class="mdescRight">This section defines the structures for the SPP. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga587181bb0fddbde24f620bc6553d314f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_spp_connect </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>uuid128</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is for the SPP client to connect to a remote server, the <a class="el" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6" title="The result of a connect attempt initiated by a local or remote device is available. ">BT_SPP_CONNECT_CNF</a> event is reported to indicate the result of the connection. </p>
<p>Note that this API can only be used by an SPP client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>is the SPP handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>is the Bluetooth address of a remote device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid128</td><td>is a 128-bit UUID of remote server, such as {0x00,0x00,0x11,0x01,0x00,0x00, 0x10,0x00,0x80,0x00,0x00,0x80,0x5F,0x9B,0x34,0xFB}. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, out of memory. </dd></dl>

</div>
</div>
<a class="anchor" id="ga190163672f6ea9ad7da435ecd40b477c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_spp_connect_response </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>accept</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is for the SPP server to accept or reject connection from a remote client, the <a class="el" href="group___bluetoothbt__spp__define.html#gacc62fc35b9991bdee5c783815c5359d6" title="The result of a connect attempt initiated by a local or remote device is available. ">BT_SPP_CONNECT_CNF</a> event is reported to indicate the result of the response. </p>
<p>Note that this API can only be used by the SPP server. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the SPP handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">accept</td><td>defines whether the connection is accepted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga004e55f263a0a6d1177499cd23956cce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_spp_disconnect </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disconnects an existing connection, the <a class="el" href="group___bluetoothbt__spp__define.html#gaa298be663d171722e7e66ee03148128b" title="A disconnect attempt is initiated by a local or remote device or a link loss occurred. ">BT_SPP_DISCONNECT_IND</a> event is reported to indicate the result of the disconnection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the SPP handle of the current connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="gac993a920608af60343a0c7363926b4c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_spp_hold_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function holds the SPP packet until it is fully consumed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is the initialization parameter. The value is provided once it is called by the SPP. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga641f07def0572f7407af26cdb9883546"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_spp_release_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function releases the SPP packet after it is consumed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is the initialization parameter. The value is provided once it is called by the SPP. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="ga155e95014dfc9574f56a364f5d414f96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_spp_send </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packet_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends data to a remote device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the SPP handle of the current connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet</td><td>is a pointer to the packet to send to a remote device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_length</td><td>is the length of a packet to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. <a class="el" href="group___bluetoothbt__spp__define.html#ga9835ec7e01166b68b8246de195c4ea1a" title="Define for SPP failed status. ">BT_STATUS_SPP_TX_NOT_AVAILABLE</a>, if the TX buffer in the local device or the RX buffer in the remote device has no space available. The application should wait for the <a class="el" href="group___bluetoothbt__spp__define.html#ga55e743a2d5f19ec762b019fcc1cc1640" title="The Bluetooth TX buffer has free space for sending data. ">BT_SPP_READY_TO_SEND_IND</a> event before the next send operation. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 15 2017 19:29:10 for MT2523 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
