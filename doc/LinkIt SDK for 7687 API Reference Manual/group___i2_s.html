<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT7687 API Reference: I2S</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT7687 API Reference
   &#160;<span id="projectnumber">LinkIt SDK v4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___i2_s.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">I2S<div class="ingroups"><a class="el" href="group___h_a_l.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the I2S APIs including terms and acronyms, supported features, software architecture, details on how to use this driver, I2S function groups, enums, structures and functions.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the I2S APIs including terms and acronyms, supported features, software architecture, details on how to use this driver, I2S function groups, enums, structures and functions. </p>
<h1><a class="anchor" id="HAL_I2S_Terms_Chapter"></a>
Terms and acronyms</h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>I2S</b> </td><td>Inter-IC Sound is a standard electrical serial bus interface used for connecting digital audio devices. </td></tr>
<tr>
<td><b>TDM</b> </td><td>Time division multiplexed (TDM) formats are used when more than two channels of data are to be transferred on a single data line. </td></tr>
<tr>
<td><b>VFIFO</b> <b>DMA</b> </td><td>A virtual first in first out (VFIFO) direct memory access (DMA) device applied in an electronic device having a processor, a I2S unit and a VFIFO unit is provided. In the VFIFO DMA device, a DMA unit is for transferring data between the I2S unit and the VFIFO unit. A VFIFO controller, which has a read pointer and a write pointer, is electrically connected with the DMA unit. When the DMA unit reads data from or writes data into the VFIFO unit, the VFIFO controller correspondingly changes the value of the read pointer or the write pointer. A virtual port is electrically connected to the DMA unit and the processor. A processor reads data from or writes data into the VFIFO unit via the virtual port and the DMA unit. </td></tr>
<tr>
<td><b>ISR</b> </td><td>Interrupt service routine is a software routine that is executed in response to an interrupt. </td></tr>
<tr>
<td><b>NVIC</b> </td><td>Nested Vectored Interrupt Controller is the interrupt controller of ARM Cortex-M. For more details, please refer to <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.100166_0001_00_en/ric1417175922867.html">NVIC introduction in ARM Cortex-M4 Processor Technical Reference Manual</a>. </td></tr>
<tr>
<td><b>TX/RX</b> </td><td>Transmitter/Receiver. </td></tr>
<tr>
<td><b>PINMUX</b> </td><td>Pin Multiplexer provides a method of configuring the individual pin peripheral multiplexers to select alternate pin functions. </td></tr>
</table>
<h1><a class="anchor" id="HAL_I2S_Features_Chapter"></a>
Supported features</h1>
<ul>
<li><b>Note</b>. <br />
 User must configure the I2S and use this driver based on the hardware platform design. For more details about the I2S functions, please refer to platform specification document.</li>
<li><b>Master</b> <b>and</b> <b>slave</b> <b>mode</b>. <br />
 Based on the diversities of audio applications and hardware capabilities of external codec components, the I2S operates in different modes. In master mode, bit clock and word select lines are driven by the I2S master, while all other devices derive their internal clocks from this reference. On the contrary, bit clock and word select are derived from the external devices when slave mode is configured. Except for the clock source, the I2S in master and slave mode also provide different capabilities in sample rate, channel number and applications.</li>
<li><b>Support</b> <b>callback</b> <b>function</b> <b>registration</b>. <br />
 An interrupt will be triggered when the data is ready to be transferred using the I2S interface. A callback function must be registered and called to handle data transfer in the I2S interrupt service routine. <br />
</li>
</ul>
<h1><a class="anchor" id="HAL_I2S_Architecture_Chapter"></a>
Software architecture of I2S</h1>
<ul>
<li>The VFIFO DMA hardware is a special DMA used with the I2S data transmit and receive operations. The VFIFO DMA hardware assists the MCU to transmit or receive data. TX/RX VFIFO buffers are used to cache the data during transmit and receive operations. The user should initialize the DMA hardware before transmitting or receiving the data. The TX/RX VFIFO buffers are registered in DMA hardware with their corresponding addresses and sizes.</li>
<li>For transmit operation, call <a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a> function to transmit data. The user must query the free space in the TX VFIFO buffer to ensure there is enough free space in the TX VFIFO buffer for the write operation. The TX VFIFO DMA interrupt will be triggered if the remaining data length in the TX VFIFO buffer is less than the threshold of the TX VFIFO buffer. Then the TX VFIFO DMA interrupt handler will call user's callback to notify that the TX VFIFO buffer is available. User can write data to the TX VFIFO buffer again by calling <a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a> function.</li>
<li>For receive operation, <a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf" title="This function receives data from the I2S input link. ">hal_i2s_rx_read()</a> function is used. The user must check the RX VFIFO buffer and fetch data from the RX VFIFO buffer until it's empty. The RX VFIFO DMA interrupt will be triggered if the data length in the RX VFIFO buffer is larger than the threshold of the RX VFIFO buffer. Then the RX VFIFO DMA interrupt handler calls the user's callback to notify that the data is available. User can fetch the data from the RX VFIFO buffer again by calling <a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf" title="This function receives data from the I2S input link. ">hal_i2s_rx_read()</a> function.</li>
</ul>
<h1><a class="anchor" id="HAL_I2S_Driver_Usage_Chapter"></a>
How to use this driver</h1>
<ul>
<li>Configure the GPIO pins used by the I2S. <br />
<ul>
<li>Set the GPIO pins for Bit clock line(BCK), word select line(WS), master clock(MCLK), data in line(DI) and data out line(DO) to support the I2S, based on the user`s hardware platform design. For more details about the PINMUX setting of the I2S functions, please refer to <a class="el" href="group___g_p_i_o.html">GPIO</a> driver document.</li>
</ul>
</li>
<li>Use I2S transmit/receive (TX/RX) both on for external codec functionality. <br />
<ul>
<li>Step1: Call <a class="el" href="group___i2_s.html#ga41142e6776a9d7d49c0e9aef7d64b766" title="This function initializes the I2S hardware type. ">hal_i2s_init()</a> to configure the I2S type.</li>
<li>Step2: Call <a class="el" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a" title="This function sets the I2S configuration details. ">hal_i2s_set_config()</a> to configure the I2S settings.</li>
<li>Step3: Call <a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3" title="This function sets up the transmit operation. ">hal_i2s_setup_tx_vfifo()</a> and <a class="el" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8" title="This function sets up the receive operation. ">hal_i2s_setup_rx_vfifo()</a> to set the memory for the I2S TX and RX VFIFO use.</li>
<li>Step4: Call <a class="el" href="group___i2_s.html#ga903affbe0cf4f8d78bf5b8100f3024d3" title="This function registers the callback function for output data. ">hal_i2s_register_tx_vfifo_callback()</a> and <a class="el" href="group___i2_s.html#gaec070a4987ec66d052b8f346be1085fe" title="This function registers the callback function for input data. ">hal_i2s_register_rx_vfifo_callback()</a> to register the user-defined callback functions.</li>
<li>Step5: Call <a class="el" href="group___i2_s.html#gaaf37be5582218f3fc290c9e01083a671" title="This function enables the TX VFIFO DMA interrupt. ">hal_i2s_enable_tx_dma_interrupt()</a> and <a class="el" href="group___i2_s.html#ga7cce8b01addc6985cca1b2dec2963b49" title="This function enables the RX VFIFO DMA interrupt. ">hal_i2s_enable_rx_dma_interrupt()</a> to enable DMA interrupt.</li>
<li>Step6: Call <a class="el" href="group___i2_s.html#ga082ff33ca7b54ca83873579c47eb77ea" title="This function enables uplink and downlink FIFOs of the I2S link. ">hal_i2s_enable_audio_top()</a>,<a class="el" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d" title="This function enables the I2S output link. ">hal_i2s_enable_tx()</a> and <a class="el" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f" title="This function enables the I2S input link. ">hal_i2s_enable_rx()</a> functions to start TX and RX link data flow.</li>
<li>Sample code: <div class="fragment"><div class="line"> <span class="comment">// allocate memory for VFIFO</span></div><div class="line"><span class="preprocessor">#define TX_BUFFER_LENGTH   128</span></div><div class="line"><span class="preprocessor">#define RX_BUFFER_LENGTH   256</span></div><div class="line"></div><div class="line">ATTR_ZIDATA_IN_NONCACHED_RAM_4BYTE_ALIGN uint32_t tx_buffer[TX_BUFFER_LENGTH];</div><div class="line">ATTR_ZIDATA_IN_NONCACHED_RAM_4BYTE_ALIGN uint32_t rx_buffer[RX_BUFFER_LENGTH];</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> user_i2s_tx_callback(<a class="code" href="group__hal__i2s__enum.html#ga28f58acda6d6abe8aaa5550b5aabdc56">hal_i2s_event_t</a> event, <span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="comment">// always send I2S TX events to user task</span></div><div class="line">    <span class="comment">// audio_procedure_call_in_media_task(src_module_id, user_i2s_tx_event_handler, event, user_data);</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> user_i2s_rx_callback(<a class="code" href="group__hal__i2s__enum.html#ga28f58acda6d6abe8aaa5550b5aabdc56">hal_i2s_event_t</a> event, <span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="comment">// always send I2S RX events to user task</span></div><div class="line">    <span class="comment">// audio_procedure_call_in_media_task(src_module_id, user_i2s_rx_event_handler, event, user_data);</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> i2s_open(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"></div><div class="line">    <a class="code" href="structhal__i2s__config__t.html">hal_i2s_config_t</a> i2s_config;</div><div class="line">    <a class="code" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> result = <a class="code" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa">HAL_I2S_STATUS_OK</a>;</div><div class="line"></div><div class="line">    <span class="comment">// set the I2S to an external mode</span></div><div class="line">    result = <a class="code" href="group___i2_s.html#ga41142e6776a9d7d49c0e9aef7d64b766">hal_i2s_init</a>(<a class="code" href="group__hal__i2s__enum.html#gga392d8b0b38387b897d4fe5d939d08a0aacd6a9f2e19505a2224084c93c67d1796">HAL_I2S_TYPE_EXTERNAL_MODE</a>);</div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa">HAL_I2S_STATUS_OK</a> != result) {</div><div class="line">       <span class="comment">// error handle</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">//configure the clock mode of the I2S</span></div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#aa35d20bd7fdd390367b6c56321019e12">clock_mode</a> = <a class="code" href="group__hal__i2s__enum.html#gga598fcba318267b59cccef5de716df635ad61bbe08e3ff6698df94f4f8c73b214f">HAL_I2S_SLAVE</a>;</div><div class="line"></div><div class="line">   <span class="comment">//configure the frame sync with of the I2S</span></div><div class="line">    i2s_config.frame_sync_width=<a class="code" href="group__hal__i2s__enum.html#ggac858be40714e67be8c6f256fc6f03526a3e92821a95396a005a0f38c11d3be308">HAL_I2S_FRAME_SYNC_WIDTH_32</a>;</div><div class="line"></div><div class="line">    <span class="comment">//configure the sample with of the I2S</span></div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a2705b20f6d65f0e78c63035f5bc93800">sample_width</a>=<a class="code" href="group__hal__i2s__enum.html#gga77218755b89c666cd0bdcc0a8ffb6b6da20213d90850b7757a33e5685da121de3">HAL_I2S_SAMPLE_WIDTH_16BIT</a>;</div><div class="line"></div><div class="line">    <span class="comment">// configure the RX settings</span></div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#aa1278823074a6a70d4ad8b2fc8d0803d">rx_down_rate</a>=<a class="code" href="group__hal__i2s__enum.html#gga01f60fd92b4f33d3a457d8dc169a78f9a088a7b725f50686a213a7f8ce56c414d">HAL_I2S_RX_DOWN_RATE_DISABLE</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#af56bc8ae3ea9047b17bd3677dc4612a7">i2s_in</a>.<a class="code" href="structhal__i2s__link__config__t.html#af4c588322c32357c37679b1c343c6773">sample_rate</a> = <a class="code" href="group__hal__i2s__enum.html#ggac51500e35da580eb0f957e49e81fa66eae6fb7362b85c96403d4c53a492750f48">HAL_I2S_SAMPLE_RATE_16K</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#af56bc8ae3ea9047b17bd3677dc4612a7">i2s_in</a>.<a class="code" href="structhal__i2s__link__config__t.html#af9fd9140e5f5a347bf9a7cdbc0c7214b">msb_offset</a>=0;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#af56bc8ae3ea9047b17bd3677dc4612a7">i2s_in</a>.<a class="code" href="structhal__i2s__link__config__t.html#ac56f5d977f393131b0fb647296d2cc59">word_select_inverse</a>=<a class="code" href="group__hal__i2s__enum.html#gga500356412b1c2e344f08ba6d8cd8b64ba5f74052cb89e7b5087685e18763eeda6">HAL_I2S_WORD_SELECT_INVERSE_DISABLE</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#af56bc8ae3ea9047b17bd3677dc4612a7">i2s_in</a>.<a class="code" href="structhal__i2s__link__config__t.html#a5af990de9a8c33a38e37f3afa2bf622c">lr_swap</a>=<a class="code" href="group__hal__i2s__enum.html#gga4d5d3b42f12186be3357520a47c95c2daa02f6e4288ac151cab7f3e8b52e87d85">HAL_I2S_LR_SWAP_DISABLE</a>;</div><div class="line"></div><div class="line">    <span class="comment">// configure the TX settings</span></div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a63945589e5772eacb288f55674b20783">tx_mode</a>=<a class="code" href="group__hal__i2s__enum.html#ggac319ad478b2f82dbfa29025d5061db1ba2c633861229ffe9ff179b7602b23da12">HAL_I2S_TX_MONO_DUPLICATE_DISABLE</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a99a55c30870ba6e86872f7fe71cf06dd">i2s_out</a>.<a class="code" href="structhal__i2s__link__config__t.html#a09fd345e5a29c1da569ed9892c55529b">channel_number</a> = <a class="code" href="group__hal__i2s__enum.html#ggaef958a1b89d8355c3a893b22622953f5af8d6b3ba1a201592b6b36abd6f3611ab">HAL_I2S_MONO</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a99a55c30870ba6e86872f7fe71cf06dd">i2s_out</a>.<a class="code" href="structhal__i2s__link__config__t.html#af4c588322c32357c37679b1c343c6773">sample_rate</a> = <a class="code" href="group__hal__i2s__enum.html#ggac51500e35da580eb0f957e49e81fa66eae6fb7362b85c96403d4c53a492750f48">HAL_I2S_SAMPLE_RATE_16K</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a99a55c30870ba6e86872f7fe71cf06dd">i2s_out</a>.<a class="code" href="structhal__i2s__link__config__t.html#af9fd9140e5f5a347bf9a7cdbc0c7214b">msb_offset</a>=0;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a99a55c30870ba6e86872f7fe71cf06dd">i2s_out</a>.<a class="code" href="structhal__i2s__link__config__t.html#ac56f5d977f393131b0fb647296d2cc59">word_select_inverse</a>=<a class="code" href="group__hal__i2s__enum.html#gga500356412b1c2e344f08ba6d8cd8b64ba5f74052cb89e7b5087685e18763eeda6">HAL_I2S_WORD_SELECT_INVERSE_DISABLE</a>;</div><div class="line">    i2s_config.<a class="code" href="structhal__i2s__config__t.html#a99a55c30870ba6e86872f7fe71cf06dd">i2s_out</a>.<a class="code" href="structhal__i2s__link__config__t.html#a5af990de9a8c33a38e37f3afa2bf622c">lr_swap</a>=<a class="code" href="group__hal__i2s__enum.html#gga4d5d3b42f12186be3357520a47c95c2daa02f6e4288ac151cab7f3e8b52e87d85">HAL_I2S_LR_SWAP_DISABLE</a>;</div><div class="line"></div><div class="line">    <span class="comment">//configure the I2S links</span></div><div class="line">    result = <a class="code" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a">hal_i2s_set_config</a>(&amp;i2s_config);</div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa">HAL_I2S_STATUS_OK</a> != result) {</div><div class="line">       <span class="comment">// error handle</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// configure the VFIFO for TX</span></div><div class="line">    result=<a class="code" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3">hal_i2s_setup_tx_vfifo</a>(tx_buffer,TX_BUFFER_LENGTH/2,TX_BUFFER_LENGTH);</div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa">HAL_I2S_STATUS_OK</a> != result) {</div><div class="line">         <span class="comment">// error handle</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// configure the VFIFO for RX</span></div><div class="line">    result=<a class="code" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8">hal_i2s_setup_rx_vfifo</a>(rx_buffer,RX_BUFFER_LENGTH/2,RX_BUFFER_LENGTH);</div><div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa">HAL_I2S_STATUS_OK</a> != result) {</div><div class="line">         <span class="comment">// error handle</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="group___i2_s.html#ga903affbe0cf4f8d78bf5b8100f3024d3">hal_i2s_register_tx_vfifo_callback</a>(user_i2s_tx_callback, NULL);</div><div class="line">    <a class="code" href="group___i2_s.html#gaec070a4987ec66d052b8f346be1085fe">hal_i2s_register_rx_vfifo_callback</a>(user_i2s_rx_callback, NULL);</div><div class="line"></div><div class="line">    <a class="code" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d">hal_i2s_enable_tx</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f">hal_i2s_enable_rx</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#ga082ff33ca7b54ca83873579c47eb77ea">hal_i2s_enable_audio_top</a>();</div><div class="line"></div><div class="line">    <span class="comment">// enable the interrupt</span></div><div class="line">    <a class="code" href="group___i2_s.html#gaaf37be5582218f3fc290c9e01083a671">hal_i2s_enable_tx_dma_interrupt</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#ga7cce8b01addc6985cca1b2dec2963b49">hal_i2s_enable_rx_dma_interrupt</a>();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> i2s_close(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">// disable the interrupt</span></div><div class="line">    <a class="code" href="group___i2_s.html#ga97912ed9a1351ce86b1ca63ef8ad181b">hal_i2s_disable_tx_dma_interrupt</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#ga3d55ba4de56d925f065d879b2b6d0afc">hal_i2s_disable_rx_dma_interrupt</a>();</div><div class="line"></div><div class="line">    <span class="comment">//disable the I2S links</span></div><div class="line">    <a class="code" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39">hal_i2s_disable_tx</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba">hal_i2s_disable_rx</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b">hal_i2s_disable_audio_top</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#gaffbdd5799a5ffd803f15de70a89ded28">hal_i2s_deinit</a>();</div><div class="line"></div><div class="line">    <span class="comment">// disable the VFIFOs</span></div><div class="line">    <a class="code" href="group___i2_s.html#ga7c733d752c0e35ac30913546c6224438">hal_i2s_stop_tx_vfifo</a>();</div><div class="line">    <a class="code" href="group___i2_s.html#gacee8c6b0a8ae64ded4e45af09d714553">hal_i2s_stop_rx_vfifo</a>();</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Event handling for TX and RX links data transfer operations.<br />
<ul>
<li>The callback functions of TX and RX links are always invoked in the NVIC ISR. It is recommended to send the events of TX and RX links to user-defined media task in callback functions and handle the corresponding data operations in media task to avoid long operations in the ISR.</li>
<li>An example implementation below explain how to handle events in a user-defined media task. <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> user_i2s_tx_callback(<a class="code" href="group__hal__i2s__enum.html#ga28f58acda6d6abe8aaa5550b5aabdc56">hal_i2s_event_t</a> event, <span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="comment">// always send I2S TX events to user task</span></div><div class="line">    <span class="comment">// audio_procedure_call_in_media_task(src_module_id, user_i2s_event_handler, event, user_data);</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> user_i2s_rx_callback(<a class="code" href="group__hal__i2s__enum.html#ga28f58acda6d6abe8aaa5550b5aabdc56">hal_i2s_event_t</a> event, <span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="comment">// always send I2S RX events to user task</span></div><div class="line">    <span class="comment">// audio_procedure_call_in_media_task(src_module_id, user_i2s_event_handler, event, user_data);</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> user_i2s_event_handler(<a class="code" href="group__hal__i2s__enum.html#ga28f58acda6d6abe8aaa5550b5aabdc56">hal_i2s_event_t</a> event, <span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span>(event) {</div><div class="line"></div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__hal__i2s__enum.html#gga28f58acda6d6abe8aaa5550b5aabdc56aaecf2bec8776a837fe13d05b34fc1333">HAL_I2S_EVENT_DATA_REQUEST</a>:</div><div class="line">          <span class="comment">// write data to the TX VFIFO</span></div><div class="line">          <span class="keywordflow">break</span>;</div><div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__hal__i2s__enum.html#gga28f58acda6d6abe8aaa5550b5aabdc56a56321c2af4a75feb0867a566030e4d78">HAL_I2S_EVENT_DATA_NOTIFICATION</a>:</div><div class="line">          <span class="comment">// read data from the RX VFIFO</span></div><div class="line">          <span class="keywordflow">break</span>;</div><div class="line">     }</div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="Function_Group_Chapter"></a>
I2S function groups description</h1>
<p>The APIs are grouped by their functionality for an easier use. User can refer to the details of each function by clicking the function name.</p><ul>
<li><b>Initialization</b> <b>and</b> <b>configuration</b> <b>functions</b> <br />
 The <a class="el" href="group___i2_s.html#ga41142e6776a9d7d49c0e9aef7d64b766" title="This function initializes the I2S hardware type. ">hal_i2s_init()</a> function configures the I2S type to be set at the beginning of an I2S operation.<br />
 The <a class="el" href="group___i2_s.html#gaffbdd5799a5ffd803f15de70a89ded28" title="This function deinitializes the I2S hardware. ">hal_i2s_deinit()</a> function resets the I2S type configuration. <br />
 The <a class="el" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a" title="This function sets the I2S configuration details. ">hal_i2s_set_config()</a> function configures the I2S settings providing the respective sampling rate, downsampling rate in RX mode, data swapping between right and left channels, word select(WS) inverting, mono duplication in TX mode, bits delay from frame sync and channel number for TX and RX links as well as the clock mode for the whole I2S. The user should configure settings before enabling the I2S functions. <br />
 The <a class="el" href="group___i2_s.html#gac2bd51d5b7d5977b6b2e26978820d072" title="This function queries the I2S configuration details. ">hal_i2s_get_config()</a> function gets the current I2S settings. <br />
 The <a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3" title="This function sets up the transmit operation. ">hal_i2s_setup_tx_vfifo()</a> function configures DMA TX VFIFO. <br />
 The <a class="el" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8" title="This function sets up the receive operation. ">hal_i2s_setup_rx_vfifo()</a> function configures DMA RX VFIFO. <br />
 The functions are: <br />
<ul>
<li><a class="el" href="group___i2_s.html#ga41142e6776a9d7d49c0e9aef7d64b766" title="This function initializes the I2S hardware type. ">hal_i2s_init()</a></li>
<li><a class="el" href="group___i2_s.html#gaffbdd5799a5ffd803f15de70a89ded28" title="This function deinitializes the I2S hardware. ">hal_i2s_deinit()</a></li>
<li><a class="el" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a" title="This function sets the I2S configuration details. ">hal_i2s_set_config()</a></li>
<li><a class="el" href="group___i2_s.html#gac2bd51d5b7d5977b6b2e26978820d072" title="This function queries the I2S configuration details. ">hal_i2s_get_config()</a></li>
<li><a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3" title="This function sets up the transmit operation. ">hal_i2s_setup_tx_vfifo()</a></li>
<li><a class="el" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8" title="This function sets up the receive operation. ">hal_i2s_setup_rx_vfifo()</a></li>
</ul>
</li>
<li><b>Callback</b> <b>register</b> <b>functions</b> <br />
 Use these functions to register callback functions for TX and RX link data operation. <br />
 The functions are: <br />
<ul>
<li><a class="el" href="group___i2_s.html#ga903affbe0cf4f8d78bf5b8100f3024d3" title="This function registers the callback function for output data. ">hal_i2s_register_tx_vfifo_callback()</a></li>
<li><a class="el" href="group___i2_s.html#gaec070a4987ec66d052b8f346be1085fe" title="This function registers the callback function for input data. ">hal_i2s_register_rx_vfifo_callback()</a></li>
</ul>
</li>
<li><b>Enable</b> <b>and</b> <b>disable</b> <b>functions</b> <br />
 Call <a class="el" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d" title="This function enables the I2S output link. ">hal_i2s_enable_tx()</a> function to enable the I2S TX link to transmit the data. <br />
 Call <a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a> function to disable the I2S TX data transmission immediately. <br />
 Call <a class="el" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f" title="This function enables the I2S input link. ">hal_i2s_enable_rx()</a> function to enable the I2S RX link to receive data. <br />
 Call <a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> function to disable the I2S RX immediately. <br />
 Call <a class="el" href="group___i2_s.html#ga082ff33ca7b54ca83873579c47eb77ea" title="This function enables uplink and downlink FIFOs of the I2S link. ">hal_i2s_enable_audio_top()</a> function to enable the I2S audio top immediately. <br />
 Call <a class="el" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b" title="This function disables uplink and downlink FIFOs of the I2S link. ">hal_i2s_disable_audio_top()</a> function to disable the I2S audio top immediately. <br />
 The functions are: <br />
<ul>
<li><a class="el" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d" title="This function enables the I2S output link. ">hal_i2s_enable_tx()</a></li>
<li><a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a></li>
<li><a class="el" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f" title="This function enables the I2S input link. ">hal_i2s_enable_rx()</a></li>
<li><a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a></li>
<li><a class="el" href="group___i2_s.html#ga082ff33ca7b54ca83873579c47eb77ea" title="This function enables uplink and downlink FIFOs of the I2S link. ">hal_i2s_enable_audio_top()</a></li>
<li><a class="el" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b" title="This function disables uplink and downlink FIFOs of the I2S link. ">hal_i2s_disable_audio_top()</a></li>
</ul>
</li>
<li><b>Data</b> <b>transfer</b> <b>functions</b> <ul>
<li>TX link data transfer <br />
 Call <a class="el" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75" title="This function queries available free space in the TX VFIFO. ">hal_i2s_get_tx_sample_count()</a> function before <a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a> function to determine the free space available in the TX VFIFO buffer for the write operation. <br />
 The functions are: <br />
<ul>
<li><a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a></li>
<li><a class="el" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75" title="This function queries available free space in the TX VFIFO. ">hal_i2s_get_tx_sample_count()</a></li>
<li>sample code: <div class="fragment"><div class="line">uint32_t user_buffer[data_buffer_length] = { <span class="comment">// with data };</span></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> i2s_write_data(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t sample_count = 0;</div><div class="line">    uint32_t write_count = 0;</div><div class="line"></div><div class="line">    <span class="comment">//  get available free space of TX VFIFO buffer</span></div><div class="line">    <a class="code" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75">hal_i2s_get_tx_sample_count</a>(&amp;sample_count);</div><div class="line"></div><div class="line">     <span class="keywordflow">if</span>( data_buffer_length &lt; sample_count) {</div><div class="line">         <span class="comment">// write numbers of samples for audio out</span></div><div class="line">         <span class="keywordflow">for</span>(write_count=0;write_count&lt;data_buffer_length;write_count++)</div><div class="line">              <a class="code" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04">hal_i2s_tx_write</a>(user_buffer[write_count]);</div><div class="line">     }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>RX link data transfer <br />
 Call <a class="el" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452" title="This function queries length of the received data available in the RX VFIFO. ">hal_i2s_get_rx_sample_count()</a> function before <a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf" title="This function receives data from the I2S input link. ">hal_i2s_rx_read()</a> function to determine the samples available in the RX VFIFO buffer for the I2S read operation. <br />
 The functions are: <br />
<ul>
<li><a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf" title="This function receives data from the I2S input link. ">hal_i2s_rx_read()</a></li>
<li><a class="el" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452" title="This function queries length of the received data available in the RX VFIFO. ">hal_i2s_get_rx_sample_count()</a></li>
<li>sample code: <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> i2s_read_data(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t user_buffer[data_buffer_length];</div><div class="line">    uint32_t sample_count = 0;</div><div class="line">    uint32_t read_count = 0;</div><div class="line">    uint32_t store_data = 0;</div><div class="line"></div><div class="line">    memset(user_buffer, 0, <span class="keyword">sizeof</span> user_buffer);</div><div class="line"></div><div class="line">    <span class="comment">// get available data count of RX VFIFO buffer</span></div><div class="line">    <a class="code" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452">hal_i2s_get_rx_sample_count</a>(&amp;sample_count);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span>(sample_count!=0) {</div><div class="line">         <a class="code" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf">hal_i2s_rx_read</a>(&amp;store_data);</div><div class="line">         <span class="keywordflow">if</span>(read_count&lt;data_buffer_length){</div><div class="line">             user_buffer[read_count]=store_data;</div><div class="line">             read_count++;</div><div class="line">         }</div><div class="line">         <span class="keywordflow">else</span></div><div class="line">             <span class="keywordflow">break</span>;</div><div class="line">         <a class="code" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452">hal_i2s_get_rx_sample_count</a>(&amp;sample_count);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga41142e6776a9d7d49c0e9aef7d64b766"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga41142e6776a9d7d49c0e9aef7d64b766">hal_i2s_init</a> (<a class="el" href="group__hal__i2s__enum.html#ga392d8b0b38387b897d4fe5d939d08a0a">hal_i2s_initial_type_t</a> i2s_initial_type)</td></tr>
<tr class="memdesc:ga41142e6776a9d7d49c0e9aef7d64b766"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the I2S hardware type.  <a href="#ga41142e6776a9d7d49c0e9aef7d64b766">More...</a><br /></td></tr>
<tr class="separator:ga41142e6776a9d7d49c0e9aef7d64b766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffbdd5799a5ffd803f15de70a89ded28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gaffbdd5799a5ffd803f15de70a89ded28">hal_i2s_deinit</a> (void)</td></tr>
<tr class="memdesc:gaffbdd5799a5ffd803f15de70a89ded28"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deinitializes the I2S hardware.  <a href="#gaffbdd5799a5ffd803f15de70a89ded28">More...</a><br /></td></tr>
<tr class="separator:gaffbdd5799a5ffd803f15de70a89ded28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga784e532011ea38aeca52229141f9dc7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a">hal_i2s_set_config</a> (const <a class="el" href="structhal__i2s__config__t.html">hal_i2s_config_t</a> *config)</td></tr>
<tr class="memdesc:ga784e532011ea38aeca52229141f9dc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the I2S configuration details.  <a href="#ga784e532011ea38aeca52229141f9dc7a">More...</a><br /></td></tr>
<tr class="separator:ga784e532011ea38aeca52229141f9dc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2bd51d5b7d5977b6b2e26978820d072"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gac2bd51d5b7d5977b6b2e26978820d072">hal_i2s_get_config</a> (<a class="el" href="structhal__i2s__config__t.html">hal_i2s_config_t</a> *config)</td></tr>
<tr class="memdesc:gac2bd51d5b7d5977b6b2e26978820d072"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function queries the I2S configuration details.  <a href="#gac2bd51d5b7d5977b6b2e26978820d072">More...</a><br /></td></tr>
<tr class="separator:gac2bd51d5b7d5977b6b2e26978820d072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga082ff33ca7b54ca83873579c47eb77ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga082ff33ca7b54ca83873579c47eb77ea">hal_i2s_enable_audio_top</a> (void)</td></tr>
<tr class="memdesc:ga082ff33ca7b54ca83873579c47eb77ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables uplink and downlink FIFOs of the I2S link.  <a href="#ga082ff33ca7b54ca83873579c47eb77ea">More...</a><br /></td></tr>
<tr class="separator:ga082ff33ca7b54ca83873579c47eb77ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga611bf9b470c907154b2810d0c4fc614b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b">hal_i2s_disable_audio_top</a> (void)</td></tr>
<tr class="memdesc:ga611bf9b470c907154b2810d0c4fc614b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables uplink and downlink FIFOs of the I2S link.  <a href="#ga611bf9b470c907154b2810d0c4fc614b">More...</a><br /></td></tr>
<tr class="separator:ga611bf9b470c907154b2810d0c4fc614b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf37be5582218f3fc290c9e01083a671"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gaaf37be5582218f3fc290c9e01083a671">hal_i2s_enable_tx_dma_interrupt</a> (void)</td></tr>
<tr class="memdesc:gaaf37be5582218f3fc290c9e01083a671"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables the TX VFIFO DMA interrupt.  <a href="#gaaf37be5582218f3fc290c9e01083a671">More...</a><br /></td></tr>
<tr class="separator:gaaf37be5582218f3fc290c9e01083a671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97912ed9a1351ce86b1ca63ef8ad181b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga97912ed9a1351ce86b1ca63ef8ad181b">hal_i2s_disable_tx_dma_interrupt</a> (void)</td></tr>
<tr class="memdesc:ga97912ed9a1351ce86b1ca63ef8ad181b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the TX VFIFO DMA interrupt.  <a href="#ga97912ed9a1351ce86b1ca63ef8ad181b">More...</a><br /></td></tr>
<tr class="separator:ga97912ed9a1351ce86b1ca63ef8ad181b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cce8b01addc6985cca1b2dec2963b49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga7cce8b01addc6985cca1b2dec2963b49">hal_i2s_enable_rx_dma_interrupt</a> (void)</td></tr>
<tr class="memdesc:ga7cce8b01addc6985cca1b2dec2963b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables the RX VFIFO DMA interrupt.  <a href="#ga7cce8b01addc6985cca1b2dec2963b49">More...</a><br /></td></tr>
<tr class="separator:ga7cce8b01addc6985cca1b2dec2963b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d55ba4de56d925f065d879b2b6d0afc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga3d55ba4de56d925f065d879b2b6d0afc">hal_i2s_disable_rx_dma_interrupt</a> (void)</td></tr>
<tr class="memdesc:ga3d55ba4de56d925f065d879b2b6d0afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the RX VFIFO DMA interrupt.  <a href="#ga3d55ba4de56d925f065d879b2b6d0afc">More...</a><br /></td></tr>
<tr class="separator:ga3d55ba4de56d925f065d879b2b6d0afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb35d41dc068cfb603ab7bd6d96147b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3">hal_i2s_setup_tx_vfifo</a> (uint32_t *buffer, uint32_t threshold, uint32_t buffer_length)</td></tr>
<tr class="memdesc:gabb35d41dc068cfb603ab7bd6d96147b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets up the transmit operation.  <a href="#gabb35d41dc068cfb603ab7bd6d96147b3">More...</a><br /></td></tr>
<tr class="separator:gabb35d41dc068cfb603ab7bd6d96147b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c733d752c0e35ac30913546c6224438"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga7c733d752c0e35ac30913546c6224438">hal_i2s_stop_tx_vfifo</a> (void)</td></tr>
<tr class="memdesc:ga7c733d752c0e35ac30913546c6224438"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stops the transmit operation.  <a href="#ga7c733d752c0e35ac30913546c6224438">More...</a><br /></td></tr>
<tr class="separator:ga7c733d752c0e35ac30913546c6224438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga920a70d46ef316897ef61c32de9f6cc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8">hal_i2s_setup_rx_vfifo</a> (uint32_t *buffer, uint32_t threshold, uint32_t buffer_length)</td></tr>
<tr class="memdesc:ga920a70d46ef316897ef61c32de9f6cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets up the receive operation.  <a href="#ga920a70d46ef316897ef61c32de9f6cc8">More...</a><br /></td></tr>
<tr class="separator:ga920a70d46ef316897ef61c32de9f6cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacee8c6b0a8ae64ded4e45af09d714553"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gacee8c6b0a8ae64ded4e45af09d714553">hal_i2s_stop_rx_vfifo</a> (void)</td></tr>
<tr class="memdesc:gacee8c6b0a8ae64ded4e45af09d714553"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stops the receive operation.  <a href="#gacee8c6b0a8ae64ded4e45af09d714553">More...</a><br /></td></tr>
<tr class="separator:gacee8c6b0a8ae64ded4e45af09d714553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec070a4987ec66d052b8f346be1085fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gaec070a4987ec66d052b8f346be1085fe">hal_i2s_register_rx_vfifo_callback</a> (<a class="el" href="group__hal__i2s__typedef.html#gaa5863e16c9bab654f18024b111316cf3">hal_i2s_rx_callback_t</a> rx_callback, void *user_data)</td></tr>
<tr class="memdesc:gaec070a4987ec66d052b8f346be1085fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function registers the callback function for input data.  <a href="#gaec070a4987ec66d052b8f346be1085fe">More...</a><br /></td></tr>
<tr class="separator:gaec070a4987ec66d052b8f346be1085fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga903affbe0cf4f8d78bf5b8100f3024d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga903affbe0cf4f8d78bf5b8100f3024d3">hal_i2s_register_tx_vfifo_callback</a> (<a class="el" href="group__hal__i2s__typedef.html#ga1f85d182146fdd53bf023fb349b1ce48">hal_i2s_tx_callback_t</a> tx_callback, void *user_data)</td></tr>
<tr class="memdesc:ga903affbe0cf4f8d78bf5b8100f3024d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function registers the callback function for output data.  <a href="#ga903affbe0cf4f8d78bf5b8100f3024d3">More...</a><br /></td></tr>
<tr class="separator:ga903affbe0cf4f8d78bf5b8100f3024d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cf4f6ee55581de0da9c624ad3625c8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d">hal_i2s_enable_tx</a> (void)</td></tr>
<tr class="memdesc:ga3cf4f6ee55581de0da9c624ad3625c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables the I2S output link.  <a href="#ga3cf4f6ee55581de0da9c624ad3625c8d">More...</a><br /></td></tr>
<tr class="separator:ga3cf4f6ee55581de0da9c624ad3625c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ece667f599b66a178fd9a3c2dc93e39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39">hal_i2s_disable_tx</a> (void)</td></tr>
<tr class="memdesc:ga9ece667f599b66a178fd9a3c2dc93e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the I2S output link.  <a href="#ga9ece667f599b66a178fd9a3c2dc93e39">More...</a><br /></td></tr>
<tr class="separator:ga9ece667f599b66a178fd9a3c2dc93e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga618c45141bc55cdfa660a3638d251d04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04">hal_i2s_tx_write</a> (uint32_t data)</td></tr>
<tr class="memdesc:ga618c45141bc55cdfa660a3638d251d04"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function transmits data to the I2S output link.  <a href="#ga618c45141bc55cdfa660a3638d251d04">More...</a><br /></td></tr>
<tr class="separator:ga618c45141bc55cdfa660a3638d251d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fb99ba182ce762e65916cf75d2b4e75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75">hal_i2s_get_tx_sample_count</a> (uint32_t *sample_count)</td></tr>
<tr class="memdesc:ga4fb99ba182ce762e65916cf75d2b4e75"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function queries available free space in the TX VFIFO.  <a href="#ga4fb99ba182ce762e65916cf75d2b4e75">More...</a><br /></td></tr>
<tr class="separator:ga4fb99ba182ce762e65916cf75d2b4e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ed484abb2e98b567782a301a9af0e2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f">hal_i2s_enable_rx</a> (void)</td></tr>
<tr class="memdesc:ga2ed484abb2e98b567782a301a9af0e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables the I2S input link.  <a href="#ga2ed484abb2e98b567782a301a9af0e2f">More...</a><br /></td></tr>
<tr class="separator:ga2ed484abb2e98b567782a301a9af0e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0af1e6a3eaca26f6eb8f3fc5965963ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba">hal_i2s_disable_rx</a> (void)</td></tr>
<tr class="memdesc:ga0af1e6a3eaca26f6eb8f3fc5965963ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the I2S input link.  <a href="#ga0af1e6a3eaca26f6eb8f3fc5965963ba">More...</a><br /></td></tr>
<tr class="separator:ga0af1e6a3eaca26f6eb8f3fc5965963ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab919565b8a239e3fdd9c4ee6149252bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf">hal_i2s_rx_read</a> (uint32_t *data)</td></tr>
<tr class="memdesc:gab919565b8a239e3fdd9c4ee6149252bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function receives data from the I2S input link.  <a href="#gab919565b8a239e3fdd9c4ee6149252bf">More...</a><br /></td></tr>
<tr class="separator:gab919565b8a239e3fdd9c4ee6149252bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5848b861555ccab42f3d1e1f4ab3b452"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452">hal_i2s_get_rx_sample_count</a> (uint32_t *sample_count)</td></tr>
<tr class="memdesc:ga5848b861555ccab42f3d1e1f4ab3b452"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function queries length of the received data available in the RX VFIFO.  <a href="#ga5848b861555ccab42f3d1e1f4ab3b452">More...</a><br /></td></tr>
<tr class="separator:ga5848b861555ccab42f3d1e1f4ab3b452"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__hal__i2s__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__i2s__enum.html">Enum</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__i2s__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__i2s__struct.html">Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__i2s__typedef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__i2s__typedef.html">Typedef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaffbdd5799a5ffd803f15de70a89ded28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deinitializes the I2S hardware. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if one of I2S links is still available. Call <a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a> and <a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> to disable the TX/RX links before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga41142e6776a9d7d49c0e9aef7d64b766" title="This function initializes the I2S hardware type. ">hal_i2s_init()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga611bf9b470c907154b2810d0c4fc614b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_disable_audio_top </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables uplink and downlink FIFOs of the I2S link. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga082ff33ca7b54ca83873579c47eb77ea" title="This function enables uplink and downlink FIFOs of the I2S link. ">hal_i2s_enable_audio_top()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga0af1e6a3eaca26f6eb8f3fc5965963ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_disable_rx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the I2S input link. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f" title="This function enables the I2S input link. ">hal_i2s_enable_rx()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga3d55ba4de56d925f065d879b2b6d0afc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_disable_rx_dma_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the RX VFIFO DMA interrupt. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga7cce8b01addc6985cca1b2dec2963b49" title="This function enables the RX VFIFO DMA interrupt. ">hal_i2s_enable_rx_dma_interrupt()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga9ece667f599b66a178fd9a3c2dc93e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_disable_tx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the I2S output link. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d" title="This function enables the I2S output link. ">hal_i2s_enable_tx()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga97912ed9a1351ce86b1ca63ef8ad181b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_disable_tx_dma_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the TX VFIFO DMA interrupt. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#gaaf37be5582218f3fc290c9e01083a671" title="This function enables the TX VFIFO DMA interrupt. ">hal_i2s_enable_tx_dma_interrupt()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga082ff33ca7b54ca83873579c47eb77ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_enable_audio_top </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables uplink and downlink FIFOs of the I2S link. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function after <a class="el" href="group___i2_s.html#ga3cf4f6ee55581de0da9c624ad3625c8d" title="This function enables the I2S output link. ">hal_i2s_enable_tx()</a> or <a class="el" href="group___i2_s.html#ga2ed484abb2e98b567782a301a9af0e2f" title="This function enables the I2S input link. ">hal_i2s_enable_rx()</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b" title="This function disables uplink and downlink FIFOs of the I2S link. ">hal_i2s_disable_audio_top()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga2ed484abb2e98b567782a301a9af0e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_enable_rx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables the I2S input link. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga7cce8b01addc6985cca1b2dec2963b49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_enable_rx_dma_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables the RX VFIFO DMA interrupt. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if RX callback function is not registered. Call <a class="el" href="group___i2_s.html#gaec070a4987ec66d052b8f346be1085fe" title="This function registers the callback function for input data. ">hal_i2s_register_rx_vfifo_callback()</a> to register RX callback function before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga3d55ba4de56d925f065d879b2b6d0afc" title="This function disables the RX VFIFO DMA interrupt. ">hal_i2s_disable_rx_dma_interrupt()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To avoid unpredictable system operation, calling this function is not allowed if RX callback function is not registered. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3cf4f6ee55581de0da9c624ad3625c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_enable_tx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables the I2S output link. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaaf37be5582218f3fc290c9e01083a671"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_enable_tx_dma_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables the TX VFIFO DMA interrupt. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if TX callback function is not registered. Call <a class="el" href="group___i2_s.html#ga903affbe0cf4f8d78bf5b8100f3024d3" title="This function registers the callback function for output data. ">hal_i2s_register_tx_vfifo_callback()</a> to register TX callback function before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga97912ed9a1351ce86b1ca63ef8ad181b" title="This function disables the TX VFIFO DMA interrupt. ">hal_i2s_disable_tx_dma_interrupt()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To avoid unpredictable system operation, calling this function is not allowed if TX callback function is not registered. </dd></dl>

</div>
</div>
<a class="anchor" id="gac2bd51d5b7d5977b6b2e26978820d072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_get_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__i2s__config__t.html">hal_i2s_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function queries the I2S configuration details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">config</td><td>is the link configuration of I2S module which is set in system. For more details about this parameter, please refer to <a class="el" href="structhal__i2s__config__t.html" title="I2S configure structure. ">hal_i2s_config_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if the input parameter is invalid. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a" title="This function sets the I2S configuration details. ">hal_i2s_set_config()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga5848b861555ccab42f3d1e1f4ab3b452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_get_rx_sample_count </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>sample_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function queries length of the received data available in the RX VFIFO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sample_count</td><td>is the length of the received data available in the RX VFIFO. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function before <a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf" title="This function receives data from the I2S input link. ">hal_i2s_rx_read()</a> function to ensure there is data available in the RX VFIFO buffer to perform read operation. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#gab919565b8a239e3fdd9c4ee6149252bf" title="This function receives data from the I2S input link. ">hal_i2s_rx_read()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga4fb99ba182ce762e65916cf75d2b4e75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_get_tx_sample_count </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>sample_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function queries available free space in the TX VFIFO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sample_count</td><td>is the available free space in the TX VFIFO.(Number of data words to write) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if the user do not configure the buffer length for TX VFIFO by <a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3" title="This function sets up the transmit operation. ">hal_i2s_setup_tx_vfifo()</a>. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function before <a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a> function to ensure there is enough free space in the TX VFIFO buffer for the write operation. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga41142e6776a9d7d49c0e9aef7d64b766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__i2s__enum.html#ga392d8b0b38387b897d4fe5d939d08a0a">hal_i2s_initial_type_t</a>&#160;</td>
          <td class="paramname"><em>i2s_initial_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the I2S hardware type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2s_initial_type</td><td>is the initial configuration parameter. Please refer to <a class="el" href="group__hal__i2s__enum.html#ga392d8b0b38387b897d4fe5d939d08a0a" title="This enum defines initial type of I2S. ">hal_i2s_initial_type_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if input parameter is invalid. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if one of I2S links is still available. Call <a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a> and <a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> to disable the TX/RX links before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Set i2s_initial_type as HAL_I2S_TYPE_EXTERNAL_MODE when using external codec component in the application. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#gaffbdd5799a5ffd803f15de70a89ded28" title="This function deinitializes the I2S hardware. ">hal_i2s_deinit()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaec070a4987ec66d052b8f346be1085fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_register_rx_vfifo_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__i2s__typedef.html#gaa5863e16c9bab654f18024b111316cf3">hal_i2s_rx_callback_t</a>&#160;</td>
          <td class="paramname"><em>rx_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function registers the callback function for input data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rx_callback</td><td>is a callback function for the received data control. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is a user defined input data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if the rx_callback is invalid. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Send I2S RX events to a user-defined task and handle the data transfer there to avoid longer performances in the NVIC ISR. </dd></dl>

</div>
</div>
<a class="anchor" id="ga903affbe0cf4f8d78bf5b8100f3024d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_register_tx_vfifo_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__i2s__typedef.html#ga1f85d182146fdd53bf023fb349b1ce48">hal_i2s_tx_callback_t</a>&#160;</td>
          <td class="paramname"><em>tx_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function registers the callback function for output data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx_callback</td><td>is a pointer to the callback function to control data transmission. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>is a user defined input data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if the tx_callback is invalid. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Send I2S TX events to a user-defined task and handle the data transfer there to avoid longer performances in the NVIC ISR. </dd></dl>

</div>
</div>
<a class="anchor" id="gab919565b8a239e3fdd9c4ee6149252bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_rx_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function receives data from the I2S input link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>is the 32-bit data buffer to receive, bit[31:16] means the data of right channel and bit[15:0] means the data of left channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function after <a class="el" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452" title="This function queries length of the received data available in the RX VFIFO. ">hal_i2s_get_rx_sample_count()</a> function to ensure there is data available in the RX VFIFO buffer to perform read operation. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga5848b861555ccab42f3d1e1f4ab3b452" title="This function queries length of the received data available in the RX VFIFO. ">hal_i2s_get_rx_sample_count()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga784e532011ea38aeca52229141f9dc7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_set_config </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhal__i2s__config__t.html">hal_i2s_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the I2S configuration details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is the link configuration of the I2S module. For more details about this parameter, please refer to <a class="el" href="structhal__i2s__config__t.html" title="I2S configure structure. ">hal_i2s_config_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if wrong parameter is given. User should check the parameter when receiving this value. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if one of the I2S links is still available. Call <a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a> and <a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> to disable the TX/RX links before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To avoid unpredictable system operation, calling <a class="el" href="group___i2_s.html#ga784e532011ea38aeca52229141f9dc7a" title="This function sets the I2S configuration details. ">hal_i2s_set_config()</a> during the I2S execution is not allowed. User should disable the TX/RX links before setting the configuration. <br />
 Set the sampling rates of the TX and RX to the same value. Different values are not allowed. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#gac2bd51d5b7d5977b6b2e26978820d072" title="This function queries the I2S configuration details. ">hal_i2s_get_config()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga920a70d46ef316897ef61c32de9f6cc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_setup_rx_vfifo </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buffer_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets up the receive operation. </p>
<p>The FIFO starts to pump data from I2S RX into the RX VFIFO buffer if the I2S RX is enabled. <br />
 VFIFO DMA will trigger an interrupt when the amount of available receive data in the RX VFIFO is larger than the RX VFIFO threshold. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>is the pointer to memory buffer for the RX VFIFO. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">threshold</td><td>is the value of the RX VFIFO threshold. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_length</td><td>is the length of the memory buffer for the RX VFIFO. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if one of I2S links is still available. Call <a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a>, <a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> and <a class="el" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b" title="This function disables uplink and downlink FIFOs of the I2S link. ">hal_i2s_disable_audio_top()</a> to disable the TX/RX links before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if the buffer is a NULL pointer. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#gacee8c6b0a8ae64ded4e45af09d714553" title="This function stops the receive operation. ">hal_i2s_stop_rx_vfifo()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To avoid unpredictable system operation, calling <a class="el" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8" title="This function sets up the receive operation. ">hal_i2s_setup_rx_vfifo()</a> during the I2S execution is not allowed. User should disable the I2S links before setting the configuration. <br />
 Buffer is occupied by VFIFO until the transmission is complete. </dd></dl>

</div>
</div>
<a class="anchor" id="gabb35d41dc068cfb603ab7bd6d96147b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_setup_tx_vfifo </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buffer_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets up the transmit operation. </p>
<p>The FIFO starts to pump data from the TX VFIFO buffer into I2S TX if the I2S TX is enabled. <br />
 VFIFO DMA will trigger an interrupt when the amount of output data in TX VFIFO is lower than the TX VFIFO threshold. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>is the pointer to memory buffer for the TX VFIFO. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">threshold</td><td>is the value of the TX VFIFO threshold. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_length</td><td>is the length to memory buffer for the TX VFIFO. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a45c6b0a2d221196a78f3bfc57b5e1bbd" title="An error occurred during the function call. ">HAL_I2S_STATUS_ERROR</a>, if one of I2S links is still available. Call <a class="el" href="group___i2_s.html#ga9ece667f599b66a178fd9a3c2dc93e39" title="This function disables the I2S output link. ">hal_i2s_disable_tx()</a>, <a class="el" href="group___i2_s.html#ga0af1e6a3eaca26f6eb8f3fc5965963ba" title="This function disables the I2S input link. ">hal_i2s_disable_rx()</a> and <a class="el" href="group___i2_s.html#ga611bf9b470c907154b2810d0c4fc614b" title="This function disables uplink and downlink FIFOs of the I2S link. ">hal_i2s_disable_audio_top()</a> to disable the TX/RX links before calling this function. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a83bd61c97f89e933737f71e361f71beb" title="A wrong parameter is given. ">HAL_I2S_STATUS_INVALID_PARAMETER</a>, if the buffer is a NULL pointer. <br />
 <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga7c733d752c0e35ac30913546c6224438" title="This function stops the transmit operation. ">hal_i2s_stop_tx_vfifo()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To avoid unpredictable system operation, calling <a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3" title="This function sets up the transmit operation. ">hal_i2s_setup_tx_vfifo()</a> during the I2S execution is not allowed. User should disable the I2S links before setting the configuration. <br />
 Buffer is occupied by VFIFO until the transmission is complete. </dd></dl>

</div>
</div>
<a class="anchor" id="gacee8c6b0a8ae64ded4e45af09d714553"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_stop_rx_vfifo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stops the receive operation. </p>
<p>The FIFO will stop to pump data from the I2S RX into the RX VFIFO buffer. </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga920a70d46ef316897ef61c32de9f6cc8" title="This function sets up the receive operation. ">hal_i2s_setup_rx_vfifo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga7c733d752c0e35ac30913546c6224438"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_stop_tx_vfifo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function stops the transmit operation. </p>
<p>The FIFO will stop to pump data from the TX VFIFO buffer into I2S TX. </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#gabb35d41dc068cfb603ab7bd6d96147b3" title="This function sets up the transmit operation. ">hal_i2s_setup_tx_vfifo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga618c45141bc55cdfa660a3638d251d04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__i2s__enum.html#gad1fc28a714edb66298fd2cfed8f45a11">hal_i2s_status_t</a> hal_i2s_tx_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function transmits data to the I2S output link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is the 32-bit output data to send, bit[31:16] means the data of right channel and bit[15:0] means the data of left channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>, if the operation is successful. <br />
 The return value is reserved for further expansion. The current value is always set to <a class="el" href="group__hal__i2s__enum.html#ggad1fc28a714edb66298fd2cfed8f45a11a9ed71c5b227b34b11eda4795a2d04baa" title="No error occurred during the function call. ">HAL_I2S_STATUS_OK</a>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function after <a class="el" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75" title="This function queries available free space in the TX VFIFO. ">hal_i2s_get_tx_sample_count()</a> function to ensure there is enough free space in the TX VFIFO buffer for the write operation.<br />
 One sample count queried by <a class="el" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75" title="This function queries available free space in the TX VFIFO. ">hal_i2s_get_tx_sample_count()</a> will be consumed as <a class="el" href="group___i2_s.html#ga618c45141bc55cdfa660a3638d251d04" title="This function transmits data to the I2S output link. ">hal_i2s_tx_write()</a> called once. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_s.html#ga4fb99ba182ce762e65916cf75d2b4e75" title="This function queries available free space in the TX VFIFO. ">hal_i2s_get_tx_sample_count()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 15 2017 19:29:15 for MT7687 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
