<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MT7697 API Reference: NVIC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="MediaTek.PNG"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MT7697 API Reference
   &#160;<span id="projectnumber">LinkIt SDK v4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___n_v_i_c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">NVIC<div class="ingroups"><a class="el" href="group___h_a_l.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the Nested Vectored Interrupt Controller(NVIC) HAL APIs including terms and acronyms, details on how to use this driver, supported features, enums, structures and functions.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the Nested Vectored Interrupt Controller(NVIC) HAL APIs including terms and acronyms, details on how to use this driver, supported features, enums, structures and functions. </p>
<p>NVIC usage follows the CMSIS except it doesn't support direct registration of ISR in the vector table, but it uses <a class="el" href="group___n_v_i_c.html#gacef6717ff38cae33d5714c6a0344d765" title="This function is used to register a callback (an ISR) for NVIC IRQ. ">hal_nvic_register_isr_handler</a> function to improve software efficiency and debugging.</p>
<h1><a class="anchor" id="HAL_NVIC_Terms_Chapter"></a>
Terms and acronyms</h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>NVIC</b> </td><td>Nested Vectored Interrupt Controller. NVIC is the interrupt controller of ARM Cortex-M4. For more details, please refer to <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.100166_0001_00_en/ric1417175922867.html">NVIC introduction in ARM Cortex-M4 Processor Technical Reference Manual </a>. </td></tr>
<tr>
<td><b>ISR</b> </td><td>Interrupt service routine. </td></tr>
<tr>
<td><b>IRQ</b> </td><td>Interrupt request. </td></tr>
<tr>
<td><b>CMSIS</b> </td><td>Cortex Microcontroller Software Interface Standard. For more information, please refer to <a href="https://www.arm.com/zh/products/processors/cortex-m/cortex-microcontroller-software-interface-standard.php">CMSIS </a>. </td></tr>
</table>
<h1><a class="anchor" id="HAL_NVIC_Driver_Usage_Chapter"></a>
How to use this driver</h1>
<ul>
<li>Using the NVIC. <br />
<ul>
<li>Step 1. Call the <a class="el" href="group___n_v_i_c.html#gadda9d294f5812bbd756712053767151c" title="This function initializes the NVIC IRQ with default priority. ">hal_nvic_init()</a> function to initialize the NVIC IRQ priority according to the exception number. By default, the lower the exception number the higher is the priority.</li>
<li>Step 2. Call the <a class="el" href="group___n_v_i_c.html#gacef6717ff38cae33d5714c6a0344d765" title="This function is used to register a callback (an ISR) for NVIC IRQ. ">hal_nvic_register_isr_handler()</a> function to register an ISR handler before using the NVIC IRQ.</li>
<li>Step 3. Use CMSIS interface to adjust the IRQ priority, if needed.</li>
<li>Step 4. Call the <a class="el" href="group___n_v_i_c.html#gafe217957d2558124e174e286d3f60519" title="This function enables a device-specific interrupt in the NVIC interrupt controller. ">hal_nvic_enable_irq()</a> to enable the IRQ.</li>
<li>Sample code: <div class="fragment"><div class="line"><span class="comment">// Define a callback (an ISR) function.</span></div><div class="line"><span class="keywordtype">void</span> isr_handler(hal_nvic_irq_t irq_number)</div><div class="line">{</div><div class="line">    <span class="comment">// Do something.</span></div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line">ret = <a class="code" href="group___n_v_i_c.html#gadda9d294f5812bbd756712053767151c">hal_nvic_init</a>();    <span class="comment">// Should be called only once at initialization.</span></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60abd1f73380e3e80a19ff13486c1b865be">HAL_NVIC_STATUS_OK</a> != ret) {</div><div class="line">        <span class="comment">// Error handler;</span></div><div class="line">}</div><div class="line">ret = <a class="code" href="group___n_v_i_c.html#gacef6717ff38cae33d5714c6a0344d765">hal_nvic_register_isr_handler</a>(irq_number, isr_handler);   <span class="comment">// Register an IRQ handler.</span></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60abd1f73380e3e80a19ff13486c1b865be">HAL_NVIC_STATUS_OK</a> !=  ret) {</div><div class="line">        <span class="comment">// Error handler;</span></div><div class="line">}</div><div class="line"><a class="code" href="group___n_v_i_c.html#gafe217957d2558124e174e286d3f60519">hal_nvic_enable_irq</a>(irq_number);</div><div class="line"></div><div class="line"><span class="comment">// Change the IRQ priority (optional).</span></div><div class="line"><a class="code" href="group___n_v_i_c.html#gad47e10dcc8ef59aa6c6f52e9fb01d7de">hal_nvic_disable_irq</a>(irq_number);   <span class="comment">// Disable the IRQ number.</span></div><div class="line"><a class="code" href="group___n_v_i_c.html#ga384f32e848473c55f1a5e042f934e14d">hal_nvic_set_priority</a>(irq_number, DEFAULT_IRQ_PRIORITY);  <span class="comment">// Change the priority of the IRQ number, if needed.</span></div><div class="line"><a class="code" href="group___n_v_i_c.html#gafe217957d2558124e174e286d3f60519">hal_nvic_enable_irq</a>(irq_number);    <span class="comment">// Enable the IRQ number.</span></div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="keywordtype">void</span> function_task(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">// function_task() runs only in thread mode.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> function_isr(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">// function_task() runs only in handler mode.</span></div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// It needs to take different actions according to the Cortex-M4 current exception status.</span></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__hal__nvic__macro.html#ga304d75660fc43bf61b3563812eb4913b">HAL_NVIC_QUERY_EXCEPTION_NUMBER</a> == 0) {</div><div class="line">    <span class="comment">// Cortex-M4 is in thread mode.</span></div><div class="line">    function_task();</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">    <span class="comment">// Cortex-M4 is handling the exception and the exception number is HAL_NVIC_QUERY_EXCEPTION_NUMBER.</span></div><div class="line">    function_isr();</div><div class="line">}</div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// Preserve the original IRQ settings.</span></div><div class="line"><span class="keywordtype">void</span> example(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t mask;</div><div class="line">    <a class="code" href="group___n_v_i_c.html#gaf8a10ae73a221de8c3571d4f5f66a953">hal_nvic_save_and_set_interrupt_mask</a>(&amp;mask); <span class="comment">// Save the current IRQ settings.</span></div><div class="line">    <span class="comment">// Do something with the protected critical resource when the IRQ is disabled.</span></div><div class="line">    <a class="code" href="group___n_v_i_c.html#gaaaddda93c560a17e87a0e38dd1d34d36">hal_nvic_restore_interrupt_mask</a>(mask);       <span class="comment">// Restore the IRQ settings.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint32_t mask;</div><div class="line">    <a class="code" href="group___n_v_i_c.html#gaf8a10ae73a221de8c3571d4f5f66a953">hal_nvic_save_and_set_interrupt_mask</a>(&amp;mask);   <span class="comment">// Save the current IRQ settings.</span></div><div class="line">    example();</div><div class="line">    <span class="comment">// The IRQ is still disabled;</span></div><div class="line">    <span class="comment">// Do something with the protected critical resouce when the IRQ is disabled.</span></div><div class="line">    <a class="code" href="group___n_v_i_c.html#gaaaddda93c560a17e87a0e38dd1d34d36">hal_nvic_restore_interrupt_mask</a>(mask);  <span class="comment">// Restore the original IRQ settings in the mask.</span></div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacef6717ff38cae33d5714c6a0344d765"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gacef6717ff38cae33d5714c6a0344d765">hal_nvic_register_isr_handler</a> (hal_nvic_irq_t irq_number, <a class="el" href="group__hal__nvic__typedef.html#gad0c42a5b42564767be2aad2d77412a70">hal_nvic_isr_t</a> isr_handler)</td></tr>
<tr class="memdesc:gacef6717ff38cae33d5714c6a0344d765"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to register a callback (an ISR) for NVIC IRQ.  <a href="#gacef6717ff38cae33d5714c6a0344d765">More...</a><br /></td></tr>
<tr class="separator:gacef6717ff38cae33d5714c6a0344d765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadda9d294f5812bbd756712053767151c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gadda9d294f5812bbd756712053767151c">hal_nvic_init</a> (void)</td></tr>
<tr class="memdesc:gadda9d294f5812bbd756712053767151c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the NVIC IRQ with default priority.  <a href="#gadda9d294f5812bbd756712053767151c">More...</a><br /></td></tr>
<tr class="separator:gadda9d294f5812bbd756712053767151c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe217957d2558124e174e286d3f60519"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gafe217957d2558124e174e286d3f60519">hal_nvic_enable_irq</a> (hal_nvic_irq_t irq_number)</td></tr>
<tr class="memdesc:gafe217957d2558124e174e286d3f60519"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables a device-specific interrupt in the NVIC interrupt controller.  <a href="#gafe217957d2558124e174e286d3f60519">More...</a><br /></td></tr>
<tr class="separator:gafe217957d2558124e174e286d3f60519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad47e10dcc8ef59aa6c6f52e9fb01d7de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gad47e10dcc8ef59aa6c6f52e9fb01d7de">hal_nvic_disable_irq</a> (hal_nvic_irq_t irq_number)</td></tr>
<tr class="memdesc:gad47e10dcc8ef59aa6c6f52e9fb01d7de"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables a device-specific interrupt in the NVIC interrupt controller.  <a href="#gad47e10dcc8ef59aa6c6f52e9fb01d7de">More...</a><br /></td></tr>
<tr class="separator:gad47e10dcc8ef59aa6c6f52e9fb01d7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0b61e23e6202528d0a29120c2c8de2c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gac0b61e23e6202528d0a29120c2c8de2c">hal_nvic_get_pending_irq</a> (hal_nvic_irq_t irq_number)</td></tr>
<tr class="memdesc:gac0b61e23e6202528d0a29120c2c8de2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads the pending register in the NVIC and returns the pending bit for the specified interrupt.  <a href="#gac0b61e23e6202528d0a29120c2c8de2c">More...</a><br /></td></tr>
<tr class="separator:gac0b61e23e6202528d0a29120c2c8de2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd48d667b98b35a8f32608f5003a248f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gabd48d667b98b35a8f32608f5003a248f">hal_nvic_set_pending_irq</a> (hal_nvic_irq_t irq_number)</td></tr>
<tr class="memdesc:gabd48d667b98b35a8f32608f5003a248f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the pending bit of an external interrupt.  <a href="#gabd48d667b98b35a8f32608f5003a248f">More...</a><br /></td></tr>
<tr class="separator:gabd48d667b98b35a8f32608f5003a248f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa78cf785707ed3c2a1f9e37728b1d928"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gaa78cf785707ed3c2a1f9e37728b1d928">hal_nvic_clear_pending_irq</a> (hal_nvic_irq_t irq_number)</td></tr>
<tr class="memdesc:gaa78cf785707ed3c2a1f9e37728b1d928"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function clears the pending bit of an external interrupt.  <a href="#gaa78cf785707ed3c2a1f9e37728b1d928">More...</a><br /></td></tr>
<tr class="separator:gaa78cf785707ed3c2a1f9e37728b1d928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga384f32e848473c55f1a5e042f934e14d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#ga384f32e848473c55f1a5e042f934e14d">hal_nvic_set_priority</a> (hal_nvic_irq_t irq_number, uint32_t priority)</td></tr>
<tr class="memdesc:ga384f32e848473c55f1a5e042f934e14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the priority of an interrupt.  <a href="#ga384f32e848473c55f1a5e042f934e14d">More...</a><br /></td></tr>
<tr class="separator:ga384f32e848473c55f1a5e042f934e14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8181f7a6e309501ecf112a056d6d11f9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#ga8181f7a6e309501ecf112a056d6d11f9">hal_nvic_get_priority</a> (hal_nvic_irq_t irq_number)</td></tr>
<tr class="memdesc:ga8181f7a6e309501ecf112a056d6d11f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads the priority of an interrupt.  <a href="#ga8181f7a6e309501ecf112a056d6d11f9">More...</a><br /></td></tr>
<tr class="separator:ga8181f7a6e309501ecf112a056d6d11f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8a10ae73a221de8c3571d4f5f66a953"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gaf8a10ae73a221de8c3571d4f5f66a953">hal_nvic_save_and_set_interrupt_mask</a> (uint32_t *mask)</td></tr>
<tr class="memdesc:gaf8a10ae73a221de8c3571d4f5f66a953"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function saves the current IRQ settings in a temporary variable, and then disables the IRQ by setting the IRQ mask.  <a href="#gaf8a10ae73a221de8c3571d4f5f66a953">More...</a><br /></td></tr>
<tr class="separator:gaf8a10ae73a221de8c3571d4f5f66a953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaddda93c560a17e87a0e38dd1d34d36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___n_v_i_c.html#gaaaddda93c560a17e87a0e38dd1d34d36">hal_nvic_restore_interrupt_mask</a> (uint32_t mask)</td></tr>
<tr class="memdesc:gaaaddda93c560a17e87a0e38dd1d34d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function restores the IRQ settings as specified in the mask.  <a href="#gaaaddda93c560a17e87a0e38dd1d34d36">More...</a><br /></td></tr>
<tr class="separator:gaaaddda93c560a17e87a0e38dd1d34d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__hal__nvic__macro"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__nvic__macro.html">Define</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__nvic__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__nvic__enum.html">Enums</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__nvic__typedef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__nvic__typedef.html">Typedef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa78cf785707ed3c2a1f9e37728b1d928"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_clear_pending_irq </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function clears the pending bit of an external interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad47e10dcc8ef59aa6c6f52e9fb01d7de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_disable_irq </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables a device-specific interrupt in the NVIC interrupt controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafe217957d2558124e174e286d3f60519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_enable_irq </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables a device-specific interrupt in the NVIC interrupt controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac0b61e23e6202528d0a29120c2c8de2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hal_nvic_get_pending_irq </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads the pending register in the NVIC and returns the pending bit for the specified interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>To indicate whether this IRQ number is pending or not. If the return value is 0, the interrupt status is not pending. If the return value is 1, the interrupt status is pending. If the return value is other value, the IRQ number is invalid. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8181f7a6e309501ecf112a056d6d11f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t hal_nvic_get_priority </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads the priority of an interrupt. </p>
<p>The interrupt number can be positive to specify an external (device specific) interrupt, or negative to specify an internal (core) interrupt. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Interrupt Priority. Value is aligned automatically to the implemented priority bits of the microcontroller. If the return value is DEFAULT_IRQ_PRIORITY + 63, the IRQ number is invalid. </dd></dl>

</div>
</div>
<a class="anchor" id="gadda9d294f5812bbd756712053767151c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the NVIC IRQ with default priority. </p>
<p>The lower the exception number, the higher the priority. </p>

</div>
</div>
<a class="anchor" id="gacef6717ff38cae33d5714c6a0344d765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_register_isr_handler </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__hal__nvic__typedef.html#gad0c42a5b42564767be2aad2d77412a70">hal_nvic_isr_t</a>&#160;</td>
          <td class="paramname"><em>isr_handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to register a callback (an ISR) for NVIC IRQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isr_handler</td><td>is the NVIC IRQ's ISR. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>To indicate whether this function call is successful. If the return value is <a class="el" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60abd1f73380e3e80a19ff13486c1b865be" title="No error occurred. ">HAL_NVIC_STATUS_OK</a>, the operation completed successfully; If the return value is <a class="el" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60a039d0f94a2c29d11b5c140bb7c82d808" title="Invalid parameter. ">HAL_NVIC_STATUS_INVALID_PARAMETER</a>, a wrong parameter is given, the parameter must be verified. </dd></dl>

</div>
</div>
<a class="anchor" id="gaaaddda93c560a17e87a0e38dd1d34d36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_restore_interrupt_mask </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function restores the IRQ settings as specified in the mask. </p>
<p>It should be used in conjunction with <a class="el" href="group___n_v_i_c.html#gaf8a10ae73a221de8c3571d4f5f66a953" title="This function saves the current IRQ settings in a temporary variable, and then disables the IRQ by se...">hal_nvic_save_and_set_interrupt_mask()</a> to protect critical resources. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>is an unsigned integer to specify the IRQ settings. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Indicates whether this function call is successful. If the return value is <a class="el" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60abd1f73380e3e80a19ff13486c1b865be" title="No error occurred. ">HAL_NVIC_STATUS_OK</a>, the operation completed successfully; If the return value is <a class="el" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60a039d0f94a2c29d11b5c140bb7c82d808" title="Invalid parameter. ">HAL_NVIC_STATUS_INVALID_PARAMETER</a>, a wrong parameter is given, the parameter must be verified. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf8a10ae73a221de8c3571d4f5f66a953"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_save_and_set_interrupt_mask </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function saves the current IRQ settings in a temporary variable, and then disables the IRQ by setting the IRQ mask. </p>
<p>It should be used in conjunction with <a class="el" href="group___n_v_i_c.html#gaaaddda93c560a17e87a0e38dd1d34d36" title="This function restores the IRQ settings as specified in the mask. ">hal_nvic_restore_interrupt_mask()</a> to protect the critical resources. When the IRQ is masked, please don't print any log, it maybe lead to some unexpected errors. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">mask</td><td>is used to store the current IRQ settings, upon the return of this function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>To indicate whether this function call is successful. If the return value is <a class="el" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60abd1f73380e3e80a19ff13486c1b865be" title="No error occurred. ">HAL_NVIC_STATUS_OK</a>, the operation completed successfully. If the return value is <a class="el" href="group__hal__nvic__enum.html#ggab348d4200902666c0bfcd9ca075e0d60a039d0f94a2c29d11b5c140bb7c82d808" title="Invalid parameter. ">HAL_NVIC_STATUS_INVALID_PARAMETER</a>, a wrong parameter is given, the parameter must be verified. </dd></dl>

</div>
</div>
<a class="anchor" id="gabd48d667b98b35a8f32608f5003a248f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_set_pending_irq </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the pending bit of an external interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga384f32e848473c55f1a5e042f934e14d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__nvic__enum.html#gab348d4200902666c0bfcd9ca075e0d60">hal_nvic_status_t</a> hal_nvic_set_priority </td>
          <td>(</td>
          <td class="paramtype">hal_nvic_irq_t&#160;</td>
          <td class="paramname"><em>irq_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the priority of an interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_number</td><td>is the NVIC IRQ number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">priority</td><td>is the priority to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 15 2017 19:29:18 for MT7697 API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
